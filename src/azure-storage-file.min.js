/*!
 * Azure Storage SDK for JavaScript - File, 10.2.0
 * Copyright (c) Microsoft and contributors. All rights reserved.
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e=e||self).azfile={})}(this,function(e){"use strict";function t(e){return e.toLowerCase()}var r=function(){function e(e){if(this._headersMap={},e)for(var t in e)this.set(t,e[t])}return e.prototype.set=function(e,r){this._headersMap[t(e)]={name:e,value:r.toString()}},e.prototype.get=function(e){var r=this._headersMap[t(e)];return r?r.value:void 0},e.prototype.contains=function(e){return!!this._headersMap[t(e)]},e.prototype.remove=function(e){var r=this.contains(e);return delete this._headersMap[t(e)],r},e.prototype.rawHeaders=function(){var e={};for(var t in this._headersMap){var r=this._headersMap[t];e[r.name.toLowerCase()]=r.value}return e},e.prototype.headersArray=function(){var e=[];for(var t in this._headersMap)e.push(this._headersMap[t]);return e},e.prototype.headerNames=function(){for(var e=[],t=this.headersArray(),r=0;r<t.length;++r)e.push(t[r].name);return e},e.prototype.headerValues=function(){for(var e=[],t=this.headersArray(),r=0;r<t.length;++r)e.push(t[r].value);return e},e.prototype.toJson=function(){return this.rawHeaders()},e.prototype.toString=function(){return JSON.stringify(this.toJson())},e.prototype.clone=function(){return new e(this.rawHeaders())},e}();function n(e){for(var t="",r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return btoa(t)}function i(e){for(var t=atob(e),r=new Uint8Array(t.length),n=0;n<t.length;n++)r[n]=t.charCodeAt(n);return r}for(var a=function(e,t){return e(t={exports:{}},t.exports),t.exports}(function(e){var t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(t){var r=new Uint8Array(16);e.exports=function(){return t(r),r}}else{var n=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),n[t]=e>>>((3&t)<<3)&255;return n}}}),s=[],o=0;o<256;++o)s[o]=(o+256).toString(16).substr(1);var l=function(e,t){var r=t||0,n=s;return[n[e[r++]],n[e[r++]],n[e[r++]],n[e[r++]],"-",n[e[r++]],n[e[r++]],"-",n[e[r++]],n[e[r++]],"-",n[e[r++]],n[e[r++]],"-",n[e[r++]],n[e[r++]],n[e[r++]],n[e[r++]],n[e[r++]],n[e[r++]]].join("")};var u=function(e,t,r){var n=t&&r||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var i=(e=e||{}).random||(e.rng||a)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t)for(var s=0;s<16;++s)t[n+s]=i[s];return t||l(i)},p={msRestVersion:"2.0.3",HTTP:"http:",HTTPS:"https:",HTTP_PROXY:"HTTP_PROXY",HTTPS_PROXY:"HTTPS_PROXY",HttpConstants:{HttpVerbs:{PUT:"PUT",GET:"GET",DELETE:"DELETE",POST:"POST",MERGE:"MERGE",HEAD:"HEAD",PATCH:"PATCH"},StatusCodes:{TooManyRequests:429}},HeaderConstants:{AUTHORIZATION:"authorization",AUTHORIZATION_SCHEME:"Bearer",RETRY_AFTER:"Retry-After",USER_AGENT:"User-Agent"}},m="undefined"!=typeof process&&!!process.version&&!!process.versions&&!!process.versions.node;function d(e){var t={};return t.body=e.bodyAsText,t.headers=e.headers,t.status=e.status,t}function c(e){var t=e.clone();return t.headers&&t.headers.remove("authorization"),t}function h(){return u()}function y(e,t){return new Promise(function(r){return setTimeout(function(){return r(t)},e)})}var f=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function g(e,t,r){return e&&t?e.split(t).join(r||""):e}var v=function(){function e(e,t){void 0===e&&(e={}),this.modelMappers=e,this.isXML=t}return e.prototype.validateConstraints=function(e,t,r){var n=function(e,n){throw new Error('"'+r+'" with value "'+t+'" should satisfy the constraint "'+e+'": '+n+".")};if(e.constraints&&null!=t){var i=e.constraints,a=i.ExclusiveMaximum,s=i.ExclusiveMinimum,o=i.InclusiveMaximum,l=i.InclusiveMinimum,u=i.MaxItems,p=i.MaxLength,m=i.MinItems,d=i.MinLength,c=i.MultipleOf,h=i.Pattern,y=i.UniqueItems;if(null!=a&&t>=a&&n("ExclusiveMaximum",a),null!=s&&t<=s&&n("ExclusiveMinimum",s),null!=o&&t>o&&n("InclusiveMaximum",o),null!=l&&t<l&&n("InclusiveMinimum",l),null!=u&&t.length>u&&n("MaxItems",u),null!=p&&t.length>p&&n("MaxLength",p),null!=m&&t.length<m&&n("MinItems",m),null!=d&&t.length<d&&n("MinLength",d),null!=c&&t%c!=0&&n("MultipleOf",c),h){var f="string"==typeof h?new RegExp(h):h;"string"==typeof t&&null!==t.match(f)||n("Pattern",h)}y&&t.some(function(e,t,r){return r.indexOf(e)!==t})&&n("UniqueItems",y)}},e.prototype.serialize=function(e,t,r){var i={},a=e.type.name;r||(r=e.serializedName),null!==a.match(/^Sequence$/gi)&&(i=[]),e.isConstant&&(t=e.defaultValue);var s=e.required,o=e.nullable;if(s&&o&&void 0===t)throw new Error(r+" cannot be undefined.");if(s&&!o&&null==t)throw new Error(r+" cannot be null or undefined.");if(!s&&!1===o&&null===t)throw new Error(r+" cannot be null.");if(null==t)i=t;else if(this.validateConstraints(e,t,r),null!==a.match(/^any$/gi))i=t;else if(null!==a.match(/^(Number|String|Boolean|Object|Stream|Uuid)$/gi))i=function(e,t,r){if(null!=r)if(null!==e.match(/^Number$/gi)){if("number"!=typeof r)throw new Error(t+" with value "+r+" must be of type number.")}else if(null!==e.match(/^String$/gi)){if("string"!=typeof r.valueOf())throw new Error(t+' with value "'+r+'" must be of type string.')}else if(null!==e.match(/^Uuid$/gi)){if("string"!=typeof r.valueOf()||(i=r,!new RegExp("^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$","ig").test(i)))throw new Error(t+' with value "'+r+'" must be of type string and a valid uuid.')}else if(null!==e.match(/^Boolean$/gi)){if("boolean"!=typeof r)throw new Error(t+" with value "+r+" must be of type boolean.")}else if(null!==e.match(/^Stream$/gi)){var n=typeof r;if(!("string"===n||"function"===n||r instanceof ArrayBuffer||ArrayBuffer.isView(r)||"function"==typeof Blob&&r instanceof Blob))throw new Error(t+" must be a string, Blob, ArrayBuffer, ArrayBufferView, or a function returning NodeJS.ReadableStream.")}var i;return r}(a,r,t);else if(null!==a.match(/^Enum$/gi)){i=function(e,t,r){if(!t)throw new Error("Please provide a set of allowedValues to validate "+e+" as an Enum Type.");if(!t.some(function(e){return"string"==typeof e.valueOf()?e.toLowerCase()===r.toLowerCase():e===r}))throw new Error(r+" is not a valid value for "+e+". The valid values are: "+JSON.stringify(t)+".");return r}(r,e.type.allowedValues,t)}else null!==a.match(/^(Date|DateTime|TimeSpan|DateTimeRfc1123|UnixTime)$/gi)?i=function(e,t,r){if(null!=t)if(null!==e.match(/^Date$/gi)){if(!(t instanceof Date||"string"==typeof t.valueOf()&&!isNaN(Date.parse(t))))throw new Error(r+" must be an instanceof Date or a string in ISO8601 format.");t=t instanceof Date?t.toISOString().substring(0,10):new Date(t).toISOString().substring(0,10)}else if(null!==e.match(/^DateTime$/gi)){if(!(t instanceof Date||"string"==typeof t.valueOf()&&!isNaN(Date.parse(t))))throw new Error(r+" must be an instanceof Date or a string in ISO8601 format.");t=t instanceof Date?t.toISOString():new Date(t).toISOString()}else if(null!==e.match(/^DateTimeRfc1123$/gi)){if(!(t instanceof Date||"string"==typeof t.valueOf()&&!isNaN(Date.parse(t))))throw new Error(r+" must be an instanceof Date or a string in RFC-1123 format.");t=t instanceof Date?t.toUTCString():new Date(t).toUTCString()}else if(null!==e.match(/^UnixTime$/gi)){if(!(t instanceof Date||"string"==typeof t.valueOf()&&!isNaN(Date.parse(t))))throw new Error(r+" must be an instanceof Date or a string in RFC-1123/ISO8601 format for it to be serialized in UnixTime/Epoch format.");t=function(e){if(!e)return;"string"==typeof e.valueOf()&&(e=new Date(e));return Math.floor(e.getTime()/1e3)}(t)}else if(null!==e.match(/^TimeSpan$/gi)){if(!function(e){return f.test(e)}(t))throw new Error(r+' must be a string in ISO 8601 format. Instead was "'+t+'".');t=t}return t}(a,t,r):null!==a.match(/^ByteArray$/gi)?i=function(e,t){if(null!=t){if(!(t instanceof Uint8Array))throw new Error(e+" must be of type Uint8Array.");t=n(t)}return t}(r,t):null!==a.match(/^Base64Url$/gi)?i=function(e,t){if(null!=t){if(!(t instanceof Uint8Array))throw new Error(e+" must be of type Uint8Array.");t=function(e){if(!e)return;if(!(e instanceof Uint8Array))throw new Error("Please provide an input of type Uint8Array for converting to Base64Url.");return function(e,t){var r=e.length;for(;r-1>=0&&e[r-1]===t;)--r;return e.substr(0,r)}(n(e),"=").replace(/\+/g,"-").replace(/\//g,"_")}(t)}return t}(r,t):null!==a.match(/^Sequence$/gi)?i=function(e,t,r,n){if(!Array.isArray(r))throw new Error(n+" must be of type Array.");var i=t.type.element;if(!i||"object"!=typeof i)throw new Error('element" metadata for an Array must be defined in the mapper and it must of type "object" in '+n+".");for(var a=[],s=0;s<r.length;s++)a[s]=e.serialize(i,r[s],n);return a}(this,e,t,r):null!==a.match(/^Dictionary$/gi)?i=function(e,t,r,n){if("object"!=typeof r)throw new Error(n+" must be of type object.");var i=t.type.value;if(!i||"object"!=typeof i)throw new Error('"value" metadata for a Dictionary must be defined in the mapper and it must of type "object" in '+n+".");for(var a={},s=0,o=Object.keys(r);s<o.length;s++){var l=o[s];a[l]=e.serialize(i,r[l],n+"."+l)}return a}(this,e,t,r):null!==a.match(/^Composite$/gi)&&(i=function(e,t,r,n){var i;R(e,t)&&(t=x(e,t,r,"clientName"));if(null!=r){for(var a={},s=S(e,t,n),o=0,l=Object.keys(s);o<l.length;o++){var u=l[o],p=s[u];if(!p.readOnly){var m=void 0,d=a;if(e.isXML)m=p.xmlIsWrapped?p.xmlName:p.xmlElementName||p.xmlName;else{var c=N(p.serializedName);m=c.pop();for(var h=0,y=c;h<y.length;h++){var f=y[h],g=d[f];null==g&&null!=r[u]&&(d[f]={}),d=d[f]}}if(null!=d){var v=""!==p.serializedName?n+"."+p.serializedName:n,P=r[u],T=R(e,t);T&&T.clientName===u&&null==P&&(P=t.serializedName);var b=e.serialize(p,P,v);void 0!==b&&null!=m&&(p.xmlIsAttribute?(d.$=d.$||{},d.$[m]=b):p.xmlIsWrapped?d[m]=((i={})[p.xmlElementName]=b,i):d[m]=b)}}}var z=t.type.additionalProperties;if(z){var E=Object.keys(s),w=function(t){var i=E.every(function(e){return e!==t});i&&(a[t]=e.serialize(z,r[t],n+'["'+t+'"]'))};for(var q in r)w(q)}return a}return r}(this,e,t,r));return i},e.prototype.deserialize=function(e,t,r){if(null==t)return this.isXML&&"Sequence"===e.type.name&&!e.xmlIsWrapped&&(t=[]),void 0!==e.defaultValue&&(t=e.defaultValue),t;var n,a=e.type.name;return r||(r=e.serializedName),null!==a.match(/^Composite$/gi)?n=function(e,t,r,n){R(e,t)&&(t=x(e,t,r,"serializedName"));for(var i=S(e,t,n),a={},s=[],o=0,l=Object.keys(i);o<l.length;o++){var u=l[o],p=i[u],m=N(i[u].serializedName);s.push(m[0]);var d=p.serializedName,c=p.xmlName,h=p.xmlElementName,y=n;""!==d&&void 0!==d&&(y=n+"."+d);var f=p.headerCollectionPrefix;if(f){for(var g={},v=0,T=Object.keys(r);v<T.length;v++){var b=T[v];b.startsWith(f)&&(g[b.substring(f.length)]=e.deserialize(p.type.value,r[b],y)),s.push(b)}a[u]=g}else if(e.isXML)if(p.xmlIsAttribute&&r.$)a[u]=e.deserialize(p,r.$[c],y);else{var z=h||c||d,E=r[z];if(p.xmlIsWrapped){var w=void 0===(E=(E=r[c])&&E[h]);w&&(E=[])}a[u]=e.deserialize(p,E,y)}else{for(var q=void 0,C=r,M=0,O=m;M<O.length;M++){var _=O[M];if(!C)break;C=C[_]}q=C;var I=t.type.polymorphicDiscriminator;I&&u===I.clientName&&null==q&&(q=t.serializedName);var D=void 0;Array.isArray(r[u])&&""===i[u].serializedName?(q=r[u],a=e.deserialize(p,q,y)):void 0===q&&void 0===p.defaultValue||(D=e.deserialize(p,q,y),a[u]=D)}}var H=t.type.additionalProperties;if(H){var L=function(e){for(var t in i){var r=N(i[t].serializedName);if(r[0]===e)return!1}return!0};for(var A in r)L(A)&&(a[A]=e.deserialize(H,r[A],n+'["'+A+'"]'))}else if(r)for(var U=0,F=Object.keys(r);U<F.length;U++){var u=F[U];void 0!==a[u]||s.includes(u)||P(u)||(a[u]=r[u])}return a}(this,e,t,r):(this.isXML&&null!=t.$&&null!=t._&&(t=t._),null!==a.match(/^Number$/gi)?(n=parseFloat(t),isNaN(n)&&(n=t)):null!==a.match(/^Boolean$/gi)?n="true"===t||"false"!==t&&t:null!==a.match(/^(String|Enum|Object|Stream|Uuid|TimeSpan|any)$/gi)?n=t:null!==a.match(/^(Date|DateTime|DateTimeRfc1123)$/gi)?n=new Date(t):null!==a.match(/^UnixTime$/gi)?n=function(e){if(!e)return;return new Date(1e3*e)}(t):null!==a.match(/^ByteArray$/gi)?n=i(t):null!==a.match(/^Base64Url$/gi)?n=function(e){if(!e)return;if(e&&"string"!=typeof e.valueOf())throw new Error("Please provide an input of type string for converting to Uint8Array");return i(e=e.replace(/\-/g,"+").replace(/\_/g,"/"))}(t):null!==a.match(/^Sequence$/gi)?n=function(e,t,r,n){var i=t.type.element;if(!i||"object"!=typeof i)throw new Error('element" metadata for an Array must be defined in the mapper and it must of type "object" in '+n);if(r){Array.isArray(r)||(r=[r]);for(var a=[],s=0;s<r.length;s++)a[s]=e.deserialize(i,r[s],n+"["+s+"]");return a}return r}(this,e,t,r):null!==a.match(/^Dictionary$/gi)&&(n=function(e,t,r,n){var i=t.type.value;if(!i||"object"!=typeof i)throw new Error('"value" metadata for a Dictionary must be defined in the mapper and it must of type "object" in '+n);if(r){for(var a={},s=0,o=Object.keys(r);s<o.length;s++){var l=o[s];a[l]=e.deserialize(i,r[l],n)}return a}return r}(this,e,t,r))),e.isConstant&&(n=e.defaultValue),n},e}();function N(e){var t=[],r="";if(e)for(var n=0,i=e.split(".");n<i.length;n++){var a=i[n];"\\"===a.charAt(a.length-1)?r+=a.substr(0,a.length-1)+".":(r+=a,t.push(r),r="")}return t}function S(e,t,r){var n=t.type.modelProperties;if(!n){var i=t.type.className;if(!i)throw new Error('Class name for model "'+r+'" is not provided in the mapper "'+JSON.stringify(t,void 0,2)+'".');var a=e.modelMappers[i];if(!a)throw new Error('mapper() cannot be null or undefined for model "'+i+'".');if(!(n=a.type.modelProperties))throw new Error('modelProperties cannot be null or undefined in the mapper "'+JSON.stringify(a)+'" of type "'+i+'" for object "'+r+'".')}return n}function P(e){return["$","_"].includes(e)}function x(e,t,r,n){var i=R(e,t);if(i){var a=i[n];if(null!=a){var s=r[a];if(null!=s){var o=t.type.uberParent||t.type.className,l=s===o?s:o+"."+s,u=e.modelMappers.discriminators[l];u&&(t=u)}}}return t}function R(e,t){return t.type.polymorphicDiscriminator||T(e,t.type.uberParent)||T(e,t.type.className)}function T(e,t){return t&&e.modelMappers[t]&&e.modelMappers[t].type.polymorphicDiscriminator}var b=function(e){for(var t={},r=0,n=e;r<n.length;r++){var i=n[r];t[i]=i}return t}(["Base64Url","Boolean","ByteArray","Composite","Date","DateTime","DateTimeRfc1123","Dictionary","Enum","Number","Object","Sequence","String","Stream","TimeSpan","UnixTime"]),z=function(){function e(e,t,n,i,a,s,o,l,u,p,m,d,c){this.streamResponseBody=s,this.url=e||"",this.method=t||"GET",this.headers=a instanceof r?a:new r(a),this.body=n,this.query=i,this.formData=void 0,this.withCredentials=o||!1,this.abortSignal=l,this.timeout=u||0,this.onUploadProgress=p,this.onDownloadProgress=m,this.proxySettings=d,this.keepAlive=c}return e.prototype.validateRequestProperties=function(){if(!this.method)throw new Error("WebResource.method is required.");if(!this.url)throw new Error("WebResource.url is required.")},e.prototype.prepare=function(e){if(!e)throw new Error("options object is required");if(null==e.method||"string"!=typeof e.method.valueOf())throw new Error("options.method must be a string.");if(e.url&&e.pathTemplate)throw new Error("options.url and options.pathTemplate are mutually exclusive. Please provide exactly one of them.");if(!(null!=e.pathTemplate&&"string"==typeof e.pathTemplate.valueOf()||null!=e.url&&"string"==typeof e.url.valueOf()))throw new Error("Please provide exactly one of options.pathTemplate or options.url.");if(e.url){if("string"!=typeof e.url)throw new Error('options.url must be of type "string".');this.url=e.url}if(e.method){var t=["GET","PUT","HEAD","DELETE","OPTIONS","POST","PATCH","TRACE"];if(-1===t.indexOf(e.method.toUpperCase()))throw new Error('The provided method "'+e.method+'" is invalid. Supported HTTP methods are: '+JSON.stringify(t))}if(this.method=e.method.toUpperCase(),e.pathTemplate){var r=e.pathTemplate,n=e.pathParameters;if("string"!=typeof r)throw new Error('options.pathTemplate must be of type "string".');e.baseUrl||(e.baseUrl="https://management.azure.com");var i=e.baseUrl,a=i+(i.endsWith("/")?"":"/")+(r.startsWith("/")?r.slice(1):r),s=a.match(/({\w*\s*\w*})/gi);if(s&&s.length){if(!n)throw new Error("pathTemplate: "+r+" has been provided. Hence, options.pathParameters must also be provided.");s.forEach(function(e){var t=e.slice(1,-1),i=n[t];if(null==i||"string"!=typeof i&&"object"!=typeof i)throw new Error("pathTemplate: "+r+" contains the path parameter "+t+" however, it is not present in "+n+" - "+JSON.stringify(n,void 0,2)+'.The value of the path parameter can either be a "string" of the form { '+t+': "some sample value" } or it can be an "object" of the form { "'+t+'": { value: "some sample value", skipUrlEncoding: true } }.');if("string"==typeof i.valueOf()&&(a=a.replace(e,encodeURIComponent(i))),"object"==typeof i.valueOf()){if(!i.value)throw new Error("options.pathParameters["+t+'] is of type "object" but it does not contain a "value" property.');a=i.skipUrlEncoding?a.replace(e,i.value):a.replace(e,encodeURIComponent(i.value))}})}this.url=a}if(e.queryParameters){var o=e.queryParameters;if("object"!=typeof o)throw new Error('options.queryParameters must be of type object. It should be a JSON object of "query-parameter-name" as the key and the "query-parameter-value" as the value. The "query-parameter-value" may be fo type "string" or an "object" of the form { value: "query-parameter-value", skipUrlEncoding: true }.');this.url&&-1===this.url.indexOf("?")&&(this.url+="?");var l=[];for(var u in this.query={},o){var p=o[u];if(p)if("string"==typeof p)l.push(u+"="+encodeURIComponent(p)),this.query[u]=encodeURIComponent(p);else if("object"==typeof p){if(!p.value)throw new Error("options.queryParameters["+u+'] is of type "object" but it does not contain a "value" property.');p.skipUrlEncoding?(l.push(u+"="+p.value),this.query[u]=p.value):(l.push(u+"="+encodeURIComponent(p.value)),this.query[u]=encodeURIComponent(p.value))}}this.url+=l.join("&")}if(e.headers)for(var m=e.headers,d=0,c=Object.keys(e.headers);d<c.length;d++){var y=c[d];this.headers.set(y,m[y])}return this.headers.get("accept-language")||this.headers.set("accept-language","en-US"),this.headers.get("x-ms-client-request-id")||e.disableClientRequestId||this.headers.set("x-ms-client-request-id",h()),this.headers.get("Content-Type")||this.headers.set("Content-Type","application/json; charset=utf-8"),this.body=e.body,null!=e.body&&(e.bodyIsStream?(this.headers.get("Transfer-Encoding")||this.headers.set("Transfer-Encoding","chunked"),"application/octet-stream"!==this.headers.get("Content-Type")&&this.headers.set("Content-Type","application/octet-stream")):(e.serializationMapper&&(this.body=new v(e.mappers).serialize(e.serializationMapper,e.body,"requestBody")),e.disableJsonStringifyOnBody||(this.body=JSON.stringify(e.body)))),this.abortSignal=e.abortSignal,this.onDownloadProgress=e.onDownloadProgress,this.onUploadProgress=e.onUploadProgress,this},e.prototype.clone=function(){var t=new e(this.url,this.method,this.body,this.query,this.headers&&this.headers.clone(),this.streamResponseBody,this.withCredentials,this.abortSignal,this.timeout,this.onUploadProgress,this.onDownloadProgress);return this.formData&&(t.formData=this.formData),this.operationSpec&&(t.operationSpec=this.operationSpec),this.shouldDeserialize&&(t.shouldDeserialize=this.shouldDeserialize),this.operationResponseGetter&&(t.operationResponseGetter=this.operationResponseGetter),t},e}(),E=function(e,t){return(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function w(e,t){function r(){this.constructor=e}E(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var q=function(){return(q=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function C(e,t,r,n){return new(r||(r=Promise))(function(i,a){function s(e){try{l(n.next(e))}catch(e){a(e)}}function o(e){try{l(n.throw(e))}catch(e){a(e)}}function l(e){e.done?i(e.value):new r(function(t){t(e.value)}).then(s,o)}l((n=n.apply(e,t||[])).next())})}function M(e,t){var r,n,i,a,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function o(a){return function(o){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&a[0]?n.return:a[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,a[1])).done)return i;switch(n=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,n=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){s=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){s.label=a[1];break}if(6===a[0]&&s.label<i[1]){s.label=i[1],i=a;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(a);break}i[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],n=0}finally{r=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,o])}}}var O,_=function(e){function t(r,n,i,a,s,o){var l=e.call(this,r)||this;return l.code=n,l.statusCode=i,l.request=a,l.response=s,l.body=o,Object.setPrototypeOf(l,t.prototype),l}return w(t,e),t.REQUEST_SEND_ERROR="REQUEST_SEND_ERROR",t.REQUEST_ABORTED_ERROR="REQUEST_ABORTED_ERROR",t.PARSE_ERROR="PARSE_ERROR",t}(Error),I=function(){function e(){}return e.prototype.sendRequest=function(e){var t=new XMLHttpRequest;if(e.proxySettings)throw new Error("HTTP proxy is not supported in browser environment");var r=e.abortSignal;if(r){var n=function(){t.abort()};r.addEventListener("abort",n),t.addEventListener("readystatechange",function(){t.readyState===XMLHttpRequest.DONE&&r.removeEventListener("abort",n)})}if(D(t.upload,e.onUploadProgress),D(t,e.onDownloadProgress),e.formData){for(var i=e.formData,a=new FormData,s=function(e,t){t&&t.hasOwnProperty("value")&&t.hasOwnProperty("options")?a.append(e,t.value,t.options):a.append(e,t)},o=0,l=Object.keys(i);o<l.length;o++){var u=l[o],p=i[u];if(Array.isArray(p))for(var m=0;m<p.length;m++)s(u,p[m]);else s(u,p)}e.body=a,e.formData=void 0;var d=e.headers.get("Content-Type");d&&-1!==d.indexOf("multipart/form-data")&&e.headers.remove("Content-Type")}t.open(e.method,e.url),t.timeout=e.timeout,t.withCredentials=e.withCredentials;for(var c=0,h=e.headers.headersArray();c<h.length;c++){var y=h[c];t.setRequestHeader(y.name,y.value)}return t.responseType=e.streamResponseBody?"blob":"text",t.send(void 0===e.body?null:e.body),e.streamResponseBody?new Promise(function(r,n){t.addEventListener("readystatechange",function(){if(t.readyState===XMLHttpRequest.HEADERS_RECEIVED){var n=new Promise(function(r,n){t.addEventListener("load",function(){r(t.response)}),L(e,t,n)});r({request:e,status:t.status,headers:H(t),blobBody:n})}}),L(e,t,n)}):new Promise(function(r,n){t.addEventListener("load",function(){return r({request:e,status:t.status,headers:H(t),bodyAsText:t.responseText})}),L(e,t,n)})},e}();function D(e,t){t&&e.addEventListener("progress",function(e){return t({loadedBytes:e.loaded})})}function H(e){for(var t=new r,n=0,i=e.getAllResponseHeaders().trim().split(/[\r\n]+/);n<i.length;n++){var a=i[n],s=a.indexOf(":"),o=a.slice(0,s),l=a.slice(s+2);t.set(o,l)}return t}function L(e,t,r){t.addEventListener("error",function(){return r(new _("Failed to send request to "+e.url,_.REQUEST_SEND_ERROR,void 0,e))}),t.addEventListener("abort",function(){return r(new _("The request was aborted",_.REQUEST_ABORTED_ERROR,void 0,e))}),t.addEventListener("timeout",function(){return r(new _("timeout of "+t.timeout+"ms exceeded",_.REQUEST_SEND_ERROR,void 0,e))})}function A(e){return U(e.parameterPath,e.mapper)}function U(e,t){return"string"==typeof e?e:Array.isArray(e)?e.join("."):t.serializedName}function F(e){var t=!1;for(var r in e.responses){var n=e.responses[r];if(n.bodyMapper&&n.bodyMapper.type.name===b.Stream){t=!0;break}}return t}(O=e.HttpPipelineLogLevel||(e.HttpPipelineLogLevel={}))[O.OFF=0]="OFF",O[O.ERROR=1]="ERROR",O[O.WARNING=2]="WARNING",O[O.INFO=3]="INFO";var k=new DOMParser;function j(e){try{var t=k.parseFromString(e,"application/xml");!function(e){if(B){var t=e.getElementsByTagNameNS(B,"parsererror");if(t.length)throw new Error(t.item(0).innerHTML)}}(t);var r=function e(t){var r={};var n=t.childNodes.length;var i=t.childNodes[0];var a=i&&1===n&&i.nodeType===Node.TEXT_NODE&&i.nodeValue||void 0;var s=function(e){return function(e){return!!e.attributes}(e)&&e.hasAttributes()?e:void 0}(t);if(s){r.$={};for(var o=0;o<s.attributes.length;o++){var l=s.attributes[o];r.$[l.nodeName]=l.nodeValue}a&&(r._=a)}else 0===n?r="":a&&(r=a);if(!a)for(var o=0;o<n;o++){var u=t.childNodes[o];if(u.nodeType!==Node.TEXT_NODE){var p=e(u);r[u.nodeName]?Array.isArray(r[u.nodeName])?r[u.nodeName].push(p):r[u.nodeName]=[r[u.nodeName],p]:r[u.nodeName]=p}}return r}(t.childNodes[0]);return Promise.resolve(r)}catch(e){return Promise.reject(e)}}var B="";try{B=k.parseFromString("INVALID","text/xml").getElementsByTagName("parsererror")[0].namespaceURI}catch(e){}var V=document.implementation.createDocument(null,null,null),X=new XMLSerializer;function G(e,t){var r=function e(t,r){if("string"==typeof t||"number"==typeof t||"boolean"==typeof t){var n=V.createElement(r);return n.textContent=t.toString(),[n]}if(Array.isArray(t)){for(var i=[],a=0,s=t;a<s.length;a++)for(var o=s[a],l=0,u=e(o,r);l<u.length;l++){var p=u[l];i.push(p)}return i}if("object"==typeof t){for(var n=V.createElement(r),m=0,d=Object.keys(t);m<d.length;m++){var c=d[m];if("$"===c)for(var h=0,y=Q(t[c]);h<y.length;h++){var f=y[h];n.attributes.setNamedItem(f)}else for(var g=0,v=e(t[c],c);g<v.length;g++){var p=v[g];n.appendChild(p)}}return[n]}throw new Error("Illegal value passed to buildObject: "+t)}(e,t&&t.rootName||"root")[0];return'<?xml version="1.0" encoding="UTF-8" standalone="yes"?>'+X.serializeToString(r)}function Q(e){for(var t=[],r=0,n=Object.keys(e);r<n.length;r++){var i=n[r],a=V.createAttribute(i);a.value=e[i].toString(),t.push(a)}return t}var $=function(){function e(e,t){this._nextPolicy=e,this._options=t}return e.prototype.shouldLog=function(e){return this._options.shouldLog(e)},e.prototype.log=function(e,t){this._options.log(e,t)},e}(),W=function(){function t(e){this._logger=e}return t.prototype.shouldLog=function(t){return!!this._logger&&t!==e.HttpPipelineLogLevel.OFF&&t<=this._logger.minimumLogLevel},t.prototype.log=function(e,t){this._logger&&this.shouldLog(e)&&this._logger.log(e,t)},t}();function Y(e){return{create:function(t,r){return new Z(t,e,r)}}}var J=["application/json","text/json"],K=["application/xml","application/atom+xml"],Z=function(e){function t(t,r,n){var i=e.call(this,t,n)||this;return i.jsonContentTypes=r&&r.json||J,i.xmlContentTypes=r&&r.xml||K,i}return w(t,e),t.prototype.sendRequest=function(e){return C(this,void 0,void 0,function(){var t=this;return M(this,function(r){return[2,this._nextPolicy.sendRequest(e).then(function(e){return function(e,t,r){return function(e,t,r){var n=function(e){var t='Error "'+e+'" occurred while parsing the response body - '+r.bodyAsText+".",n=e.code||_.PARSE_ERROR,i=new _(t,n,r.status,r.request,r,r.bodyAsText);return Promise.reject(i)};if(!r.request.streamResponseBody&&r.bodyAsText){var i=r.bodyAsText,a=r.headers.get("Content-Type")||"",s=a?a.split(";").map(function(e){return e.toLowerCase()}):[];if(0===s.length||s.some(function(t){return-1!==e.indexOf(t)}))return new Promise(function(e){r.parsedBody=JSON.parse(i),e(r)}).catch(n);if(s.some(function(e){return-1!==t.indexOf(e)}))return j(i).then(function(e){return r.parsedBody=e,r}).catch(n)}return Promise.resolve(r)}(e,t,r).then(function(e){var t=function(e){var t,r=e.request.shouldDeserialize;t=void 0===r||("boolean"==typeof r?r:r(e));return t}(e);if(t){var n=e.request.operationSpec;if(n&&n.responses){var i=e.status,a=Object.keys(n.responses),s=0===a.length||1===a.length&&"default"===a[0],o=function(e){var t,r=e.request,n=r.operationSpec;if(n){var i=r.operationResponseGetter;t=i?i(n,e):n.responses[e.status]}return t}(e),l=s?200<=i&&i<300:!!o;if(l){if(o){if(o.bodyMapper){var u=e.parsedBody;n.isXML&&o.bodyMapper.type.name===b.Sequence&&(u="object"==typeof u?u[o.bodyMapper.xmlElementName]:[]);try{e.parsedBody=n.serializer.deserialize(o.bodyMapper,u,"operationRes.parsedBody")}catch(y){var p=new _("Error "+y+" occurred in deserializing the responseBody - "+e.bodyAsText);return p.request=c(e.request),p.response=d(e),Promise.reject(p)}}else"HEAD"===n.httpMethod&&(e.parsedBody=r.status>=200&&r.status<300);o.headersMapper&&(e.parsedHeaders=n.serializer.deserialize(o.headersMapper,e.headers.rawHeaders(),"operationRes.parsedHeaders"))}}else{var m=n.responses.default;if(m){var h=F(n)?"Unexpected status code: "+i:e.bodyAsText,y=new _(h);y.statusCode=i,y.request=c(e.request),y.response=d(e);var f=e.parsedBody;try{if(f){var g=m.bodyMapper;if(g&&"CloudError"===g.serializedName)f.error&&(f=f.error),f.code&&(y.code=f.code),f.message&&(y.message=f.message);else{var v=f;f.error&&(v=f.error),y.code=v.code,v.message&&(y.message=v.message)}if(g){var u=f;n.isXML&&g.type.name===b.Sequence&&(u="object"==typeof f?f[g.xmlElementName]:[]),y.body=n.serializer.deserialize(g,u,"error.body")}}}catch(t){y.message='Error "'+t.message+'" occurred in deserializing the responseBody - "'+e.bodyAsText+'" for the default response.'}return Promise.reject(y)}}}}return Promise.resolve(e)})}(t.jsonContentTypes,t.xmlContentTypes,e)})]})})},t}($);var ee=3e4,te=3,re=9e4,ne=3e3,ie=function(e){function t(t,r,n,i,a,s){var o=e.call(this,t,r)||this;function l(e){return"number"==typeof e}return o.retryCount=l(n)?n:te,o.retryInterval=l(i)?i:ee,o.minRetryInterval=l(a)?a:ne,o.maxRetryInterval=l(s)?s:re,o}return w(t,e),t.prototype.sendRequest=function(e){var t=this;return this._nextPolicy.sendRequest(e.clone()).then(function(r){return ae(t,e,r)}).catch(function(r){return ae(t,e,r.response,void 0,r)})},t}($);function ae(e,t,r,n,i){n=function(e,t,r){t||(t={retryCount:0,retryInterval:0}),r&&(t.error&&(r.innerError=t.error),t.error=r),t.retryCount++;var n=Math.pow(2,t.retryCount)-1;return n*=.8*e.retryInterval+Math.floor(Math.random()*(1.2*e.retryInterval-.8*e.retryInterval)),t.retryInterval=Math.min(e.minRetryInterval+n,e.maxRetryInterval),t}(e,n,i);var a=t.abortSignal&&t.abortSignal.aborted;if(!a&&function(e,t,r){if(null==t||t<500&&408!==t||501===t||505===t)return!1;if(!r)throw new Error("retryData for the ExponentialRetryPolicyFilter cannot be null.");return(r&&r.retryCount)<e.retryCount}(e,r&&r.status,n))return y(n.retryInterval).then(function(){return e._nextPolicy.sendRequest(t.clone())}).then(function(r){return ae(e,t,r,n,void 0)}).catch(function(i){return ae(e,t,r,n,i)});if(a||i||!r){var s=n.error||new _("Failed to send the request.",_.REQUEST_SEND_ERROR,r&&r.status,r&&r.request,r);return Promise.reject(s)}return Promise.resolve(r)}var se=function(e){function t(t,r,n){var i=e.call(this,t,r)||this;return i._requestIdHeaderName=n,i}return w(t,e),t.prototype.sendRequest=function(e){return e.headers.contains(this._requestIdHeaderName)||e.headers.set(this._requestIdHeaderName,h()),this._nextPolicy.sendRequest(e)},t}($);function oe(){return"x-ms-command-name"}var le=oe;function ue(){var e,t,r,n,i=[{key:"ms-rest-js",value:p.msRestVersion}],a=[{key:"OS",value:((e=window.navigator).oscpu||e.platform).replace(" ","")}];return t=i.concat(a),void 0===r&&(r=" "),void 0===n&&(n="/"),t.map(function(e){var t=e.value?""+n+e.value:"";return""+e.key+t}).join(r)}var pe=function(e){function t(t,r,n,i){var a=e.call(this,t,r)||this;return a._nextPolicy=t,a._options=r,a.headerKey=n,a.headerValue=i,a}return w(t,e),t.prototype.sendRequest=function(e){return this.addUserAgentHeader(e),this._nextPolicy.sendRequest(e)},t.prototype.addUserAgentHeader=function(e){e.headers||(e.headers=new r),!e.headers.get(this.headerKey)&&this.headerValue&&e.headers.set(this.headerKey,this.headerValue)},t}($),me=function(){function e(){this._rawQuery={}}return e.prototype.any=function(){return Object.keys(this._rawQuery).length>0},e.prototype.set=function(e,t){if(e)if(null!=t){var r=Array.isArray(t)?t:t.toString();this._rawQuery[e]=r}else delete this._rawQuery[e]},e.prototype.get=function(e){return e?this._rawQuery[e]:void 0},e.prototype.toString=function(){var e="";for(var t in this._rawQuery){e&&(e+="&");var r=this._rawQuery[t];if(Array.isArray(r)){for(var n=[],i=0,a=r;i<a.length;i++){var s=a[i];n.push(t+"="+s)}e+=n.join("&")}else e+=t+"="+r}return e},e.parse=function(t){var r=new e;if(t){t.startsWith("?")&&(t=t.substring(1));for(var n="ParameterName",i="",a="",s=0;s<t.length;++s){var o=t[s];switch(n){case"ParameterName":switch(o){case"=":n="ParameterValue";break;case"&":i="",a="";break;default:i+=o}break;case"ParameterValue":switch(o){case"=":i="",a="",n="Invalid";break;case"&":r.set(i,a),i="",a="",n="ParameterName";break;default:a+=o}break;case"Invalid":"&"===o&&(n="ParameterName");break;default:throw new Error("Unrecognized URLQuery parse state: "+n)}}"ParameterValue"===n&&r.set(i,a)}return r},e}(),de=function(){function e(){}return e.prototype.setScheme=function(e){e?this.set(e,"SCHEME"):this._scheme=void 0},e.prototype.getScheme=function(){return this._scheme},e.prototype.setHost=function(e){e?this.set(e,"SCHEME_OR_HOST"):this._host=void 0},e.prototype.getHost=function(){return this._host},e.prototype.setPort=function(e){null==e||""===e?this._port=void 0:this.set(e.toString(),"PORT")},e.prototype.getPort=function(){return this._port},e.prototype.setPath=function(e){e?-1!==e.indexOf("://")?this.set(e,"SCHEME"):this.set(e,"PATH"):this._path=void 0},e.prototype.appendPath=function(e){if(e){var t=this.getPath();t&&(t.endsWith("/")||(t+="/"),e.startsWith("/")&&(e=e.substring(1)),e=t+e),this.set(e,"PATH")}},e.prototype.getPath=function(){return this._path},e.prototype.setQuery=function(e){this._query=e?me.parse(e):void 0},e.prototype.setQueryParameter=function(e,t){e&&(this._query||(this._query=new me),this._query.set(e,t))},e.prototype.getQueryParameterValue=function(e){return this._query?this._query.get(e):void 0},e.prototype.getQuery=function(){return this._query?this._query.toString():void 0},e.prototype.set=function(e,t){for(var r=new he(e,t);r.next();){var n=r.current();if(n)switch(n.type){case"SCHEME":this._scheme=n.text||void 0;break;case"HOST":this._host=n.text||void 0;break;case"PORT":this._port=n.text||void 0;break;case"PATH":var i=n.text||void 0;this._path&&"/"!==this._path&&"/"===i||(this._path=i);break;case"QUERY":this._query=me.parse(n.text);break;default:throw new Error("Unrecognized URLTokenType: "+n.type)}}},e.prototype.toString=function(){var e="";return this._scheme&&(e+=this._scheme+"://"),this._host&&(e+=this._host),this._port&&(e+=":"+this._port),this._path&&(this._path.startsWith("/")||(e+="/"),e+=this._path),this._query&&this._query.any()&&(e+="?"+this._query.toString()),e},e.prototype.replaceAll=function(e,t){e&&(this.setScheme(g(this.getScheme(),e,t)),this.setHost(g(this.getHost(),e,t)),this.setPort(g(this.getPort(),e,t)),this.setPath(g(this.getPath(),e,t)),this.setQuery(g(this.getQuery(),e,t)))},e.parse=function(t){var r=new e;return r.set(t,"SCHEME_OR_HOST"),r},e}(),ce=function(){function e(e,t){this.text=e,this.type=t}return e.scheme=function(t){return new e(t,"SCHEME")},e.host=function(t){return new e(t,"HOST")},e.port=function(t){return new e(t,"PORT")},e.path=function(t){return new e(t,"PATH")},e.query=function(t){return new e(t,"QUERY")},e}();var he=function(){function e(e,t){this._text=e,this._textLength=e?e.length:0,this._currentState=null!=t?t:"SCHEME_OR_HOST",this._currentIndex=0}return e.prototype.current=function(){return this._currentToken},e.prototype.next=function(){if(ye(this))switch(this._currentState){case"SCHEME":t=function(e){return Ne(e,function(e){return function(e){var t=e.charCodeAt(0);return 48<=t&&t<=57||65<=t&&t<=90||97<=t&&t<=122}(e)})}(e=this),e._currentToken=ce.scheme(t),ye(e)?e._currentState="HOST":e._currentState="DONE";break;case"SCHEME_OR_HOST":!function(e){var t=Se(e,":","/","?");ye(e)?":"===fe(e)?"://"===ve(e,3)?(e._currentToken=ce.scheme(t),e._currentState="HOST"):(e._currentToken=ce.host(t),e._currentState="PORT"):(e._currentToken=ce.host(t),"/"===fe(e)?e._currentState="PATH":e._currentState="QUERY"):(e._currentToken=ce.host(t),e._currentState="DONE")}(this);break;case"HOST":!function(e){"://"===ve(e,3)&&ge(e,3);var t=Se(e,":","/","?");e._currentToken=ce.host(t),ye(e)?":"===fe(e)?e._currentState="PORT":"/"===fe(e)?e._currentState="PATH":e._currentState="QUERY":e._currentState="DONE"}(this);break;case"PORT":!function(e){":"===fe(e)&&ge(e);var t=Se(e,"/","?");e._currentToken=ce.port(t),ye(e)?"/"===fe(e)?e._currentState="PATH":e._currentState="QUERY":e._currentState="DONE"}(this);break;case"PATH":!function(e){var t=Se(e,"?");e._currentToken=ce.path(t),ye(e)?e._currentState="QUERY":e._currentState="DONE"}(this);break;case"QUERY":!function(e){"?"===fe(e)&&ge(e);var t=function(e){var t="";e._currentIndex<e._textLength&&(t=e._text.substring(e._currentIndex),e._currentIndex=e._textLength);return t}(e);e._currentToken=ce.query(t),e._currentState="DONE"}(this);break;default:throw new Error("Unrecognized URLTokenizerState: "+this._currentState)}else this._currentToken=void 0;var e,t;return!!this._currentToken},e}();function ye(e){return e._currentIndex<e._textLength}function fe(e){return e._text[e._currentIndex]}function ge(e,t){ye(e)&&(t||(t=1),e._currentIndex+=t)}function ve(e,t){var r=e._currentIndex+t;return e._textLength<r&&(r=e._textLength),e._text.substring(e._currentIndex,r)}function Ne(e,t){for(var r="";ye(e);){var n=fe(e);if(!t(n))break;r+=n,ge(e)}return r}function Se(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return Ne(e,function(e){return-1===t.indexOf(e)})}var Pe=function(e){function t(t,r,n){void 0===n&&(n=20);var i=e.call(this,t,r)||this;return i.maxRetries=n,i}return w(t,e),t.prototype.sendRequest=function(e){var t=this;return this._nextPolicy.sendRequest(e).then(function(e){return function e(t,r,n){var i=r.request,a=r.status;var s=r.headers.get("location");if(s&&(300===a||307===a||303===a&&"POST"===i.method)&&(!t.maxRetries||n<t.maxRetries)){var o=de.parse(i.url);return o.setPath(s),i.url=o.toString(),303===a&&(i.method="GET"),t._nextPolicy.sendRequest(i).then(function(r){return e(t,r,n+1)})}return Promise.resolve(r)}(t,e,0)})},t}($);var xe=function(e){function t(t,r,n){void 0===n&&(n=30);var i=e.call(this,t,r)||this;return i._retryTimeout=n,i}return w(t,e),t.prototype.sendRequest=function(e){var t=this;return this._nextPolicy.sendRequest(e.clone()).then(function(r){return function(e,t,r){if(409===r.status){var n=function(e){var t,r;if(e){try{r=JSON.parse(e)}catch(e){}if(r&&r.error&&r.error.message&&r.error.code&&"MissingSubscriptionRegistration"===r.error.code){var n=r.error.message.match(/.*'(.*)'/i);n&&(t=n.pop())}}return t}(r.bodyAsText);if(n){var i=function(e){var t,r=e.match(/.*\/subscriptions\/[a-f0-9-]+\//gi);if(!r||!r[0])throw new Error("Unable to extract subscriptionId from the given url - "+e+".");t=r[0];return t}(t.url);return function(e,t,r,n){var i=t+"providers/"+r+"/register?api-version=2016-02-01",a=t+"providers/"+r+"?api-version=2016-02-01",s=Re(n);return s.method="POST",s.url=i,e._nextPolicy.sendRequest(s).then(function(t){if(200!==t.status)throw new Error("Autoregistration of "+r+" failed. Please try registering manually.");return function e(t,r,n){var i=Re(n);return i.url=r,i.method="GET",t._nextPolicy.sendRequest(i).then(function(i){var a=i.parsedBody;return!(!i.parsedBody||!a.registrationState||"Registered"!==a.registrationState)||y(1e3*t._retryTimeout).then(function(){return e(t,r,n)})})}(e,a,n)})}(e,i,n,t).catch(function(){return!1}).then(function(n){return n?(t.headers.set("x-ms-client-request-id",h()),e._nextPolicy.sendRequest(t.clone())):r})}}return Promise.resolve(r)}(t,e,r)})},t}($);function Re(e,t){void 0===t&&(t=!1);var r=e.clone();return t&&(r.url=e.url),r.headers.set("x-ms-client-request-id",h()),r.headers.set("Content-Type","application/json; charset=utf-8"),r}var Te=function(e){function t(t,r,n){var i=e.call(this,t,r)||this;return i.authenticationProvider=n,i}return w(t,e),t.prototype.signRequest=function(e){return this.authenticationProvider.signRequest(e)},t.prototype.sendRequest=function(e){var t=this;return this.signRequest(e).then(function(e){return t._nextPolicy.sendRequest(e)})},t}($);var be,ze=function(e){function t(t,r,n,i,a,s){var o=e.call(this,t,r)||this;return o.DEFAULT_CLIENT_RETRY_INTERVAL=3e4,o.DEFAULT_CLIENT_RETRY_COUNT=3,o.DEFAULT_CLIENT_MAX_RETRY_INTERVAL=9e4,o.DEFAULT_CLIENT_MIN_RETRY_INTERVAL=3e3,o.retryCount="number"==typeof n?n:o.DEFAULT_CLIENT_RETRY_COUNT,o.retryInterval="number"==typeof i?i:o.DEFAULT_CLIENT_RETRY_INTERVAL,o.minRetryInterval="number"==typeof a?a:o.DEFAULT_CLIENT_MIN_RETRY_INTERVAL,o.maxRetryInterval="number"==typeof s?s:o.DEFAULT_CLIENT_MAX_RETRY_INTERVAL,o}return w(t,e),t.prototype.sendRequest=function(e){var t=this;return this._nextPolicy.sendRequest(e.clone()).then(function(r){return function e(t,r,n,i,a){i=function(e,t,r){t||(t={retryCount:0,retryInterval:0});r&&(t.error&&(r.innerError=t.error),t.error=r);t.retryCount++;var n=Math.pow(2,t.retryCount)-1,i=.8*e.retryInterval+Math.floor(Math.random()*(1.2*e.retryInterval-.8*e.retryInterval));return n*=i,t.retryInterval=Math.min(e.minRetryInterval+n,e.maxRetryInterval),t}(t,i,a);return a&&a.code&&function(e,t){var r;if(!t)throw new Error("retryData for the SystemErrorRetryPolicyFilter cannot be null.");r=t&&t.retryCount;return r<e.retryCount}(t,i)&&("ETIMEDOUT"===a.code||"ESOCKETTIMEDOUT"===a.code||"ECONNREFUSED"===a.code||"ECONNRESET"===a.code||"ENOENT"===a.code)?y(i.retryInterval).then(function(){return t._nextPolicy.sendRequest(r.clone())}).then(function(n){return e(t,r,n,i,a)}).catch(function(a){return e(t,r,n,i,a)}):null!=a?(a=i.error,Promise.reject(a)):Promise.resolve(n)}(t,e,r)})},t}($);function Ee(e){if(e||(e=function(){if(process)return process.env[p.HTTPS_PROXY]?process.env[p.HTTPS_PROXY]:process.env[p.HTTPS_PROXY.toLowerCase()]?process.env[p.HTTPS_PROXY.toLowerCase()]:process.env[p.HTTP_PROXY]?process.env[p.HTTP_PROXY]:process.env[p.HTTP_PROXY.toLowerCase()]?process.env[p.HTTP_PROXY.toLowerCase()]:void 0}())){var t=de.parse(e);return{host:t.getScheme()+"://"+t.getHost(),port:Number.parseInt(t.getPort()||"80")}}}!function(e){e.Csv=",",e.Ssv=" ",e.Tsv="\t",e.Pipes="|",e.Multi="Multi"}(be||(be={}));var we=function(e){function t(t,r,n){var i=e.call(this,t,r)||this;return i.proxySettings=n,i}return w(t,e),t.prototype.sendRequest=function(e){return e.proxySettings||(e.proxySettings=this.proxySettings),this._nextPolicy.sendRequest(e)},t}($),qe=p.HttpConstants.StatusCodes;var Ce=function(e){function t(t,r,n){var i=e.call(this,t,r)||this;return i._handleResponse=n||i._defaultResponseHandler,i}return w(t,e),t.prototype.sendRequest=function(e){return C(this,void 0,void 0,function(){var t=this;return M(this,function(r){return[2,this._nextPolicy.sendRequest(e.clone()).then(function(r){return r.status!==qe.TooManyRequests?r:t._handleResponse(e,r)})]})})},t.prototype._defaultResponseHandler=function(e,r){return C(this,void 0,void 0,function(){var n,i,a=this;return M(this,function(s){return(n=r.headers.get(p.HeaderConstants.RETRY_AFTER))&&(i=t.parseRetryAfterHeader(n))?[2,y(i).then(function(t){return a._nextPolicy.sendRequest(e)})]:[2,r]})})},t.parseRetryAfterHeader=function(e){var r=Number(e);return Number.isNaN(r)?t.parseDateRetryAfterHeader(e):1e3*r},t.parseDateRetryAfterHeader=function(e){try{var t=Date.now(),r=Date.parse(e)-t;return Number.isNaN(r)?void 0:r}catch(e){return}},t}($),Me=function(){function e(e,t){if(t||(t={}),e&&!e.signRequest)throw new Error("credentials argument needs to implement signRequest method");var r;if(this._withCredentials=t.withCredentials||!1,this._httpClient=t.httpClient||new I,this._requestPolicyOptions=new W(t.httpPipelineLogger),Array.isArray(t.requestPolicyFactories))r=t.requestPolicyFactories;else if(r=function(e,t){var r=[];t.generateClientRequestIdHeader&&r.push((void 0===(n=t.clientRequestIdHeaderName)&&(n="x-ms-client-request-id"),{create:function(e,t){return new se(e,t,n)}}));var n;e&&("function"==typeof e.create?r.push(e):r.push((i=e,{create:function(e,t){return new Te(e,t,i)}})));var i;var a=Oe(t.userAgentHeaderName,le),s=Oe(t.userAgent,ue);a&&s&&r.push((l=(o={key:a,value:s})&&null!=o.key?o.key:"x-ms-command-name",u=o&&null!=o.value?o.value:ue(),{create:function(e,t){return new pe(e,t,l,u)}}));var o,l,u;r.push((void 0===y&&(y=20),{create:function(e,t){return new Pe(e,t,y)}})),r.push((h=t.rpRegistrationRetryTimeout,void 0===h&&(h=30),{create:function(e,t){return new xe(e,t,h)}})),t.noRetryPolicy||(r.push({create:function(e,t){return new ie(e,t,p,m,d,c)}}),r.push(function(e,t,r,n){return{create:function(i,a){return new ze(i,a,e,t,r,n)}}}()),r.push({create:function(e,t){return new Ce(e,t)}}));var p,m,d,c;var h;var y;r.push(Y(t.deserializationContentTypes));var f=t.proxySettings||Ee();f&&r.push(function(e){return{create:function(t,r){return new we(t,r,e)}}}(f));return r}(e,t),t.requestPolicyFactories){var n=t.requestPolicyFactories(r);n&&(r=n)}this._requestPolicyFactories=r}return e.prototype.sendRequest=function(e){if(null==e||"object"!=typeof e)throw new Error("options cannot be null or undefined and it must be of type object.");var t;try{e instanceof z?(e.validateRequestProperties(),t=e):t=(t=new z).prepare(e)}catch(e){return Promise.reject(e)}var r=this._httpClient;if(this._requestPolicyFactories&&this._requestPolicyFactories.length>0)for(var n=this._requestPolicyFactories.length-1;n>=0;--n)r=this._requestPolicyFactories[n].create(r,this._requestPolicyOptions);return r.sendRequest(t)},e.prototype.sendOperationRequest=function(e,t,r){"function"==typeof e.options&&(r=e.options,e.options=void 0);var n,i=new z;try{var a=t.baseUrl||this.baseUri;if(!a)throw new Error("If operationSpec.baseUrl is not specified, then the ServiceClient must have a baseUri string property that contains the base URL to use.");i.method=t.httpMethod,i.operationSpec=t;var s=de.parse(a);if(t.path&&s.appendPath(t.path),t.urlParameters&&t.urlParameters.length>0)for(var o=0,l=t.urlParameters;o<l.length;o++){var u=l[o],p=_e(this,e,u,t.serializer);p=t.serializer.serialize(u.mapper,p,A(u)),u.skipEncoding||(p=encodeURIComponent(p)),s.replaceAll("{"+(u.mapper.serializedName||A(u))+"}",p)}if(t.queryParameters&&t.queryParameters.length>0)for(var m=0,d=t.queryParameters;m<d.length;m++){var c=d[m],h=_e(this,e,c,t.serializer);if(null!=h){if(h=t.serializer.serialize(c.mapper,h,A(c)),null!=c.collectionFormat)if(c.collectionFormat===be.Multi)if(0===h.length)h="";else for(var y in h){var f=h[y];h[y]=null==f?"":f.toString()}else h=h.join(c.collectionFormat);if(!c.skipEncoding)if(Array.isArray(h))for(var y in h)h[y]=encodeURIComponent(h[y]);else h=encodeURIComponent(h);s.setQueryParameter(c.mapper.serializedName||A(c),h)}}i.url=s.toString();var g=t.contentType||this.requestContentType;if(g&&i.headers.set("Content-Type",g),t.headerParameters)for(var v=0,N=t.headerParameters;v<N.length;v++){var S=N[v],P=_e(this,e,S,t.serializer);if(null!=P){P=t.serializer.serialize(S.mapper,P,A(S));var x=S.mapper.headerCollectionPrefix;if(x)for(var R=0,T=Object.keys(P);R<T.length;R++){var E=T[R];i.headers.set(x+E,P[E])}else i.headers.set(S.mapper.serializedName||A(S),P)}}var w=e.options;if(w){if(w.customHeaders)for(var C in w.customHeaders)i.headers.set(C,w.customHeaders[C]);w.abortSignal&&(i.abortSignal=w.abortSignal),w.timeout&&(i.timeout=w.timeout),w.onUploadProgress&&(i.onUploadProgress=w.onUploadProgress),w.onDownloadProgress&&(i.onDownloadProgress=w.onDownloadProgress)}i.withCredentials=this._withCredentials,function(e,t,r,n){if(n.requestBody&&n.requestBody.mapper){t.body=_e(e,r,n.requestBody,n.serializer);var i=n.requestBody.mapper,a=i.required,s=i.xmlName,o=i.xmlElementName,l=i.serializedName,u=i.type.name;try{if(null!=t.body||a){var p=A(n.requestBody);t.body=n.serializer.serialize(i,t.body,p);var m=u===b.Stream;n.isXML?u===b.Sequence?t.body=G(function(e,t){var r;return Array.isArray(e)||(e=[e]),(r={})[t]=e,r}(t.body,o||s||l),{rootName:s||l}):m||(t.body=G(t.body,{rootName:s||l})):m||(t.body=JSON.stringify(t.body))}}catch(e){throw new Error('Error "'+e.message+'" occurred in serializing the payload - '+JSON.stringify(l,void 0,"  ")+".")}}else if(n.formDataParameters&&n.formDataParameters.length>0){t.formData={};for(var d=0,c=n.formDataParameters;d<c.length;d++){var h=c[d],y=_e(e,r,h,n.serializer);if(null!=y){var f=h.mapper.serializedName||A(h);t.formData[f]=n.serializer.serialize(h.mapper,y,A(h))}}}}(this,i,e,t),null==i.streamResponseBody&&(i.streamResponseBody=F(t)),n=this.sendRequest(i).then(function(e){return function(e,t){var r=e.parsedHeaders,n=t&&t.bodyMapper,i=function(t){return Object.defineProperty(t,"_response",{value:e})};if(n){var a=n.type.name;if("Stream"===a)return i(q({},r,{blobBody:e.blobBody,readableStreamBody:e.readableStreamBody}));var s="Composite"===a&&n.type.modelProperties||{},o=Object.keys(s).some(function(e){return""===s[e].serializedName});if("Sequence"===a||o){for(var l=(e.parsedBody||[]).slice(),u=0,p=Object.keys(s);u<p.length;u++){var m=p[u];s[m].serializedName&&(l[m]=e.parsedBody[m])}if(r)for(var d=0,c=Object.keys(r);d<c.length;d++){var m=c[d];l[m]=r[m]}return i(l),l}if("Composite"===a||"Dictionary"===a)return i(q({},r,e.parsedBody))}if(n||"HEAD"===e.request.method)return i(q({},r,{body:e.parsedBody}));return i(q({},r,e.parsedBody))}(e,t.responses[e.status])})}catch(e){n=Promise.reject(e)}var M=r;return M&&n.then(function(e){return M(null,e._response.parsedBody,e._response.request,e._response)}).catch(function(e){return M(e)}),n},e}();function Oe(e,t){var r;return"string"==typeof e?r=e:(r=t(),"function"==typeof e&&(r=e(r))),r}function _e(e,t,r,n){return function e(t,r,n,i,a){var s;"string"==typeof n&&(n=[n]);if(Array.isArray(n)){if(n.length>0){if(i.isConstant)s=i.defaultValue;else{var o=Ie(r,n);o.propertyFound||(o=Ie(t,n));var l=!1;o.propertyFound||(l=i.required||"options"===n[0]&&2===n.length),s=l?i.defaultValue:o.propertyValue}var u=U(n,i);a.serialize(i,s,u)}}else for(var p in i.required&&(s={}),n){var m=i.type.modelProperties[p],d=n[p],c=e(t,r,d,m,a),h=U(d,m);a.serialize(m,c,h),void 0!==c&&(s||(s={}),s[p]=c)}return s}(e,t,r.parameterPath,r.mapper,n)}function Ie(e,t){for(var r={propertyFound:!1},n=0;n<t.length;++n){var i=t[n];if(!(null!=e&&i in e))break;e=e[i]}return n===t.length&&(r.propertyValue=e,r.propertyFound=!0),r}var De=Object.freeze({}),He=function(){function e(e,t,r,n){var i=this;void 0===t&&(t=0),this.onabort=null,this._aborted=!1,this.children=[],this.abortEventListeners=[],this.parent=e,this.key=r,this.value=n,t>0&&(this.timer=setTimeout(function(){i.abort.call(i)},t),this.timer&&m&&this.timer.unref())}return Object.defineProperty(e.prototype,"aborted",{get:function(){return this._aborted},enumerable:!0,configurable:!0}),Object.defineProperty(e,"none",{get:function(){return new e(void 0,0)},enumerable:!0,configurable:!0}),e.timeout=function(t){return new e(void 0,t)},e.prototype.withTimeout=function(t){var r=new e(this,t);return this.children.push(r),r},e.prototype.withValue=function(t,r){var n=new e(this,0,t,r);return this.children.push(n),n},e.prototype.getValue=function(e){for(var t=this;t;t=t.parent)if(t.key===e)return t.value},e.prototype.abort=function(){var e=this;this.aborted||(this.cancelTimer(),this.onabort&&this.onabort.call(this,{type:"abort"}),this.abortEventListeners.forEach(function(t){t.call(e,{type:"abort"})}),this.children.forEach(function(e){return e.cancelByParent()}),this._aborted=!0)},e.prototype.addEventListener=function(e,t){this.abortEventListeners.push(t)},e.prototype.removeEventListener=function(e,t){var r=this.abortEventListeners.indexOf(t);r>-1&&this.abortEventListeners.splice(r,1)},e.prototype.dispatchEvent=function(){throw new Error("Method not implemented.")},e.prototype.cancelByParent=function(){this.abort()},e.prototype.cancelTimer=function(){this.timer&&clearTimeout(this.timer)},e}(),Le={xmlName:"Handle",serializedName:"HandleItem",type:{name:"Composite",className:"HandleItem",modelProperties:{handleId:{xmlName:"HandleId",required:!0,serializedName:"HandleId",type:{name:"String"}},path:{xmlName:"Path",required:!0,serializedName:"Path",type:{name:"String"}},fileId:{xmlName:"FileId",required:!0,serializedName:"FileId",type:{name:"String"}},parentId:{xmlName:"ParentId",serializedName:"ParentId",type:{name:"String"}},sessionId:{xmlName:"SessionId",required:!0,serializedName:"SessionId",type:{name:"String"}},clientIp:{xmlName:"ClientIp",required:!0,serializedName:"ClientIp",type:{name:"String"}},openTime:{xmlName:"OpenTime",required:!0,serializedName:"OpenTime",type:{name:"DateTimeRfc1123"}},lastReconnectTime:{xmlName:"LastReconnectTime",serializedName:"LastReconnectTime",type:{name:"DateTimeRfc1123"}}}}},Ae={xmlName:"EnumerationResults",serializedName:"ListFilesAndDirectoriesSegmentResponse",type:{name:"Composite",className:"ListFilesAndDirectoriesSegmentResponse",modelProperties:{serviceEndpoint:{xmlIsAttribute:!0,xmlName:"ServiceEndpoint",required:!0,serializedName:"ServiceEndpoint",type:{name:"String"}},shareName:{xmlIsAttribute:!0,xmlName:"ShareName",required:!0,serializedName:"ShareName",type:{name:"String"}},shareSnapshot:{xmlIsAttribute:!0,xmlName:"ShareSnapshot",serializedName:"ShareSnapshot",type:{name:"String"}},directoryPath:{xmlIsAttribute:!0,xmlName:"DirectoryPath",required:!0,serializedName:"DirectoryPath",type:{name:"String"}},prefix:{xmlName:"Prefix",required:!0,serializedName:"Prefix",type:{name:"String"}},marker:{xmlName:"Marker",serializedName:"Marker",type:{name:"String"}},maxResults:{xmlName:"MaxResults",serializedName:"MaxResults",type:{name:"Number"}},segment:{xmlName:"Entries",required:!0,serializedName:"Segment",type:{name:"Composite",className:"FilesAndDirectoriesListSegment"}},nextMarker:{xmlName:"NextMarker",required:!0,serializedName:"NextMarker",type:{name:"String"}}}}},Ue={xmlName:"EnumerationResults",serializedName:"ListHandlesResponse",type:{name:"Composite",className:"ListHandlesResponse",modelProperties:{handleList:{xmlIsWrapped:!0,xmlName:"Entries",xmlElementName:"Handle",serializedName:"HandleList",type:{name:"Sequence",element:{type:{name:"Composite",className:"HandleItem"}}}},nextMarker:{xmlName:"NextMarker",required:!0,serializedName:"NextMarker",type:{name:"String"}}}}},Fe={xmlName:"EnumerationResults",serializedName:"ListSharesResponse",type:{name:"Composite",className:"ListSharesResponse",modelProperties:{serviceEndpoint:{xmlIsAttribute:!0,xmlName:"ServiceEndpoint",required:!0,serializedName:"ServiceEndpoint",type:{name:"String"}},prefix:{xmlName:"Prefix",serializedName:"Prefix",type:{name:"String"}},marker:{xmlName:"Marker",serializedName:"Marker",type:{name:"String"}},maxResults:{xmlName:"MaxResults",serializedName:"MaxResults",type:{name:"Number"}},shareItems:{xmlIsWrapped:!0,xmlName:"Shares",xmlElementName:"Share",serializedName:"ShareItems",type:{name:"Sequence",element:{type:{name:"Composite",className:"ShareItem"}}}},nextMarker:{xmlName:"NextMarker",required:!0,serializedName:"NextMarker",type:{name:"String"}}}}},ke={serializedName:"StorageError",type:{name:"Composite",className:"StorageError",modelProperties:{message:{xmlName:"Message",serializedName:"Message",type:{name:"String"}}}}},je={serializedName:"ShareStats",type:{name:"Composite",className:"ShareStats",modelProperties:{shareUsageBytes:{xmlName:"ShareUsageBytes",required:!0,serializedName:"ShareUsageBytes",type:{name:"Number"}}}}},Be={serializedName:"StorageServiceProperties",type:{name:"Composite",className:"StorageServiceProperties",modelProperties:{hourMetrics:{xmlName:"HourMetrics",serializedName:"HourMetrics",type:{name:"Composite",className:"Metrics"}},minuteMetrics:{xmlName:"MinuteMetrics",serializedName:"MinuteMetrics",type:{name:"Composite",className:"Metrics"}},cors:{xmlIsWrapped:!0,xmlName:"Cors",xmlElementName:"CorsRule",serializedName:"Cors",type:{name:"Sequence",element:{type:{name:"Composite",className:"CorsRule"}}}}}}},Ve={serializedName:"service-setproperties-headers",type:{name:"Composite",className:"ServiceSetPropertiesHeaders",modelProperties:{requestId:{serializedName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",type:{name:"String"}},errorCode:{serializedName:"x-ms-error-code",type:{name:"String"}}}}},Xe={serializedName:"service-getproperties-headers",type:{name:"Composite",className:"ServiceGetPropertiesHeaders",modelProperties:{requestId:{serializedName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",type:{name:"String"}},errorCode:{serializedName:"x-ms-error-code",type:{name:"String"}}}}},Ge={serializedName:"service-listsharessegment-headers",type:{name:"Composite",className:"ServiceListSharesSegmentHeaders",modelProperties:{requestId:{serializedName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",type:{name:"String"}},errorCode:{serializedName:"x-ms-error-code",type:{name:"String"}}}}},Qe={serializedName:"share-create-headers",type:{name:"Composite",className:"ShareCreateHeaders",modelProperties:{eTag:{serializedName:"etag",type:{name:"String"}},lastModified:{serializedName:"last-modified",type:{name:"DateTimeRfc1123"}},requestId:{serializedName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",type:{name:"DateTimeRfc1123"}},errorCode:{serializedName:"x-ms-error-code",type:{name:"String"}}}}},$e={serializedName:"share-getproperties-headers",type:{name:"Composite",className:"ShareGetPropertiesHeaders",modelProperties:{metadata:{serializedName:"x-ms-meta",type:{name:"Dictionary",value:{type:{name:"String"}}},headerCollectionPrefix:"x-ms-meta-"},eTag:{serializedName:"etag",type:{name:"String"}},lastModified:{serializedName:"last-modified",type:{name:"DateTimeRfc1123"}},requestId:{serializedName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",type:{name:"DateTimeRfc1123"}},quota:{serializedName:"x-ms-share-quota",type:{name:"Number"}},errorCode:{serializedName:"x-ms-error-code",type:{name:"String"}}}}},We={serializedName:"share-delete-headers",type:{name:"Composite",className:"ShareDeleteHeaders",modelProperties:{requestId:{serializedName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",type:{name:"DateTimeRfc1123"}},errorCode:{serializedName:"x-ms-error-code",type:{name:"String"}}}}},Ye={serializedName:"share-createsnapshot-headers",type:{name:"Composite",className:"ShareCreateSnapshotHeaders",modelProperties:{snapshot:{serializedName:"x-ms-snapshot",type:{name:"String"}},eTag:{serializedName:"etag",type:{name:"String"}},lastModified:{serializedName:"last-modified",type:{name:"DateTimeRfc1123"}},requestId:{serializedName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",type:{name:"DateTimeRfc1123"}},errorCode:{serializedName:"x-ms-error-code",type:{name:"String"}}}}},Je={serializedName:"share-setquota-headers",type:{name:"Composite",className:"ShareSetQuotaHeaders",modelProperties:{eTag:{serializedName:"etag",type:{name:"String"}},lastModified:{serializedName:"last-modified",type:{name:"DateTimeRfc1123"}},requestId:{serializedName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",type:{name:"DateTimeRfc1123"}},errorCode:{serializedName:"x-ms-error-code",type:{name:"String"}}}}},Ke={serializedName:"share-setmetadata-headers",type:{name:"Composite",className:"ShareSetMetadataHeaders",modelProperties:{eTag:{serializedName:"etag",type:{name:"String"}},lastModified:{serializedName:"last-modified",type:{name:"DateTimeRfc1123"}},requestId:{serializedName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",type:{name:"DateTimeRfc1123"}},errorCode:{serializedName:"x-ms-error-code",type:{name:"String"}}}}},Ze={serializedName:"share-getaccesspolicy-headers",type:{name:"Composite",className:"ShareGetAccessPolicyHeaders",modelProperties:{eTag:{serializedName:"etag",type:{name:"String"}},lastModified:{serializedName:"last-modified",type:{name:"DateTimeRfc1123"}},requestId:{serializedName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",type:{name:"DateTimeRfc1123"}},errorCode:{serializedName:"x-ms-error-code",type:{name:"String"}}}}},et={serializedName:"share-setaccesspolicy-headers",type:{name:"Composite",className:"ShareSetAccessPolicyHeaders",modelProperties:{eTag:{serializedName:"etag",type:{name:"String"}},lastModified:{serializedName:"last-modified",type:{name:"DateTimeRfc1123"}},requestId:{serializedName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",type:{name:"DateTimeRfc1123"}},errorCode:{serializedName:"x-ms-error-code",type:{name:"String"}}}}},tt={serializedName:"share-getstatistics-headers",type:{name:"Composite",className:"ShareGetStatisticsHeaders",modelProperties:{eTag:{serializedName:"etag",type:{name:"String"}},lastModified:{serializedName:"last-modified",type:{name:"DateTimeRfc1123"}},requestId:{serializedName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",type:{name:"DateTimeRfc1123"}},errorCode:{serializedName:"x-ms-error-code",type:{name:"String"}}}}},rt={serializedName:"directory-create-headers",type:{name:"Composite",className:"DirectoryCreateHeaders",modelProperties:{eTag:{serializedName:"etag",type:{name:"String"}},lastModified:{serializedName:"last-modified",type:{name:"DateTimeRfc1123"}},requestId:{serializedName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",type:{name:"DateTimeRfc1123"}},isServerEncrypted:{serializedName:"x-ms-request-server-encrypted",type:{name:"Boolean"}},errorCode:{serializedName:"x-ms-error-code",type:{name:"String"}}}}},nt={serializedName:"directory-getproperties-headers",type:{name:"Composite",className:"DirectoryGetPropertiesHeaders",modelProperties:{metadata:{serializedName:"x-ms-meta",type:{name:"Dictionary",value:{type:{name:"String"}}},headerCollectionPrefix:"x-ms-meta-"},eTag:{serializedName:"etag",type:{name:"String"}},lastModified:{serializedName:"last-modified",type:{name:"DateTimeRfc1123"}},requestId:{serializedName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",type:{name:"DateTimeRfc1123"}},isServerEncrypted:{serializedName:"x-ms-server-encrypted",type:{name:"Boolean"}},errorCode:{serializedName:"x-ms-error-code",type:{name:"String"}}}}},it={serializedName:"directory-delete-headers",type:{name:"Composite",className:"DirectoryDeleteHeaders",modelProperties:{requestId:{serializedName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",type:{name:"DateTimeRfc1123"}},errorCode:{serializedName:"x-ms-error-code",type:{name:"String"}}}}},at={serializedName:"directory-setmetadata-headers",type:{name:"Composite",className:"DirectorySetMetadataHeaders",modelProperties:{eTag:{serializedName:"etag",type:{name:"String"}},requestId:{serializedName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",type:{name:"DateTimeRfc1123"}},isServerEncrypted:{serializedName:"x-ms-request-server-encrypted",type:{name:"Boolean"}},errorCode:{serializedName:"x-ms-error-code",type:{name:"String"}}}}},st={serializedName:"directory-listfilesanddirectoriessegment-headers",type:{name:"Composite",className:"DirectoryListFilesAndDirectoriesSegmentHeaders",modelProperties:{contentType:{serializedName:"content-type",type:{name:"String"}},requestId:{serializedName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",type:{name:"DateTimeRfc1123"}},errorCode:{serializedName:"x-ms-error-code",type:{name:"String"}}}}},ot={serializedName:"directory-listhandles-headers",type:{name:"Composite",className:"DirectoryListHandlesHeaders",modelProperties:{contentType:{serializedName:"content-type",type:{name:"String"}},requestId:{serializedName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",type:{name:"DateTimeRfc1123"}},errorCode:{serializedName:"x-ms-error-code",type:{name:"String"}}}}},lt={serializedName:"directory-forceclosehandles-headers",type:{name:"Composite",className:"DirectoryForceCloseHandlesHeaders",modelProperties:{requestId:{serializedName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",type:{name:"DateTimeRfc1123"}},marker:{serializedName:"x-ms-marker",type:{name:"String"}},numberOfHandlesClosed:{serializedName:"x-ms-number-of-handles-closed",type:{name:"Number"}},errorCode:{serializedName:"x-ms-error-code",type:{name:"String"}}}}},ut={serializedName:"file-create-headers",type:{name:"Composite",className:"FileCreateHeaders",modelProperties:{eTag:{serializedName:"etag",type:{name:"String"}},lastModified:{serializedName:"last-modified",type:{name:"DateTimeRfc1123"}},requestId:{serializedName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",type:{name:"DateTimeRfc1123"}},isServerEncrypted:{serializedName:"x-ms-request-server-encrypted",type:{name:"Boolean"}},errorCode:{serializedName:"x-ms-error-code",type:{name:"String"}}}}},pt={serializedName:"file-download-headers",type:{name:"Composite",className:"FileDownloadHeaders",modelProperties:{lastModified:{serializedName:"last-modified",type:{name:"DateTimeRfc1123"}},metadata:{serializedName:"x-ms-meta",type:{name:"Dictionary",value:{type:{name:"String"}}},headerCollectionPrefix:"x-ms-meta-"},contentLength:{serializedName:"content-length",type:{name:"Number"}},contentType:{serializedName:"content-type",type:{name:"String"}},contentRange:{serializedName:"content-range",type:{name:"String"}},eTag:{serializedName:"etag",type:{name:"String"}},contentMD5:{serializedName:"content-md5",type:{name:"ByteArray"}},contentEncoding:{serializedName:"content-encoding",type:{name:"String"}},cacheControl:{serializedName:"cache-control",type:{name:"String"}},contentDisposition:{serializedName:"content-disposition",type:{name:"String"}},contentLanguage:{serializedName:"content-language",type:{name:"String"}},requestId:{serializedName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",type:{name:"String"}},acceptRanges:{serializedName:"accept-ranges",type:{name:"String"}},date:{serializedName:"date",type:{name:"DateTimeRfc1123"}},copyCompletionTime:{serializedName:"x-ms-copy-completion-time",type:{name:"DateTimeRfc1123"}},copyStatusDescription:{serializedName:"x-ms-copy-status-description",type:{name:"String"}},copyId:{serializedName:"x-ms-copy-id",type:{name:"String"}},copyProgress:{serializedName:"x-ms-copy-progress",type:{name:"String"}},copySource:{serializedName:"x-ms-copy-source",type:{name:"String"}},copyStatus:{serializedName:"x-ms-copy-status",type:{name:"Enum",allowedValues:["pending","success","aborted","failed"]}},fileContentMD5:{serializedName:"x-ms-content-md5",type:{name:"ByteArray"}},isServerEncrypted:{serializedName:"x-ms-server-encrypted",type:{name:"Boolean"}},errorCode:{serializedName:"x-ms-error-code",type:{name:"String"}}}}},mt={serializedName:"file-getproperties-headers",type:{name:"Composite",className:"FileGetPropertiesHeaders",modelProperties:{lastModified:{serializedName:"last-modified",type:{name:"DateTimeRfc1123"}},metadata:{serializedName:"x-ms-meta",type:{name:"Dictionary",value:{type:{name:"String"}}},headerCollectionPrefix:"x-ms-meta-"},fileType:{serializedName:"x-ms-type",type:{name:"String"}},contentLength:{serializedName:"content-length",type:{name:"Number"}},contentType:{serializedName:"content-type",type:{name:"String"}},eTag:{serializedName:"etag",type:{name:"String"}},contentMD5:{serializedName:"content-md5",type:{name:"ByteArray"}},contentEncoding:{serializedName:"content-encoding",type:{name:"String"}},cacheControl:{serializedName:"cache-control",type:{name:"String"}},contentDisposition:{serializedName:"content-disposition",type:{name:"String"}},contentLanguage:{serializedName:"content-language",type:{name:"String"}},requestId:{serializedName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",type:{name:"DateTimeRfc1123"}},copyCompletionTime:{serializedName:"x-ms-copy-completion-time",type:{name:"DateTimeRfc1123"}},copyStatusDescription:{serializedName:"x-ms-copy-status-description",type:{name:"String"}},copyId:{serializedName:"x-ms-copy-id",type:{name:"String"}},copyProgress:{serializedName:"x-ms-copy-progress",type:{name:"String"}},copySource:{serializedName:"x-ms-copy-source",type:{name:"String"}},copyStatus:{serializedName:"x-ms-copy-status",type:{name:"Enum",allowedValues:["pending","success","aborted","failed"]}},isServerEncrypted:{serializedName:"x-ms-server-encrypted",type:{name:"Boolean"}},errorCode:{serializedName:"x-ms-error-code",type:{name:"String"}}}}},dt={serializedName:"file-delete-headers",type:{name:"Composite",className:"FileDeleteHeaders",modelProperties:{requestId:{serializedName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",type:{name:"DateTimeRfc1123"}},errorCode:{serializedName:"x-ms-error-code",type:{name:"String"}}}}},ct={serializedName:"file-sethttpheaders-headers",type:{name:"Composite",className:"FileSetHTTPHeadersHeaders",modelProperties:{eTag:{serializedName:"etag",type:{name:"String"}},lastModified:{serializedName:"last-modified",type:{name:"DateTimeRfc1123"}},requestId:{serializedName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",type:{name:"DateTimeRfc1123"}},isServerEncrypted:{serializedName:"x-ms-request-server-encrypted",type:{name:"Boolean"}},errorCode:{serializedName:"x-ms-error-code",type:{name:"String"}}}}},ht={serializedName:"file-setmetadata-headers",type:{name:"Composite",className:"FileSetMetadataHeaders",modelProperties:{eTag:{serializedName:"etag",type:{name:"String"}},requestId:{serializedName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",type:{name:"DateTimeRfc1123"}},isServerEncrypted:{serializedName:"x-ms-request-server-encrypted",type:{name:"Boolean"}},errorCode:{serializedName:"x-ms-error-code",type:{name:"String"}}}}},yt={serializedName:"file-uploadrange-headers",type:{name:"Composite",className:"FileUploadRangeHeaders",modelProperties:{eTag:{serializedName:"etag",type:{name:"String"}},lastModified:{serializedName:"last-modified",type:{name:"DateTimeRfc1123"}},contentMD5:{serializedName:"content-md5",type:{name:"ByteArray"}},requestId:{serializedName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",type:{name:"DateTimeRfc1123"}},isServerEncrypted:{serializedName:"x-ms-request-server-encrypted",type:{name:"Boolean"}},errorCode:{serializedName:"x-ms-error-code",type:{name:"String"}}}}},ft={serializedName:"file-getrangelist-headers",type:{name:"Composite",className:"FileGetRangeListHeaders",modelProperties:{lastModified:{serializedName:"last-modified",type:{name:"DateTimeRfc1123"}},eTag:{serializedName:"etag",type:{name:"String"}},fileContentLength:{serializedName:"x-ms-content-length",type:{name:"Number"}},requestId:{serializedName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",type:{name:"DateTimeRfc1123"}},errorCode:{serializedName:"x-ms-error-code",type:{name:"String"}}}}},gt={serializedName:"file-startcopy-headers",type:{name:"Composite",className:"FileStartCopyHeaders",modelProperties:{eTag:{serializedName:"etag",type:{name:"String"}},lastModified:{serializedName:"last-modified",type:{name:"DateTimeRfc1123"}},requestId:{serializedName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",type:{name:"DateTimeRfc1123"}},copyId:{serializedName:"x-ms-copy-id",type:{name:"String"}},copyStatus:{serializedName:"x-ms-copy-status",type:{name:"Enum",allowedValues:["pending","success","aborted","failed"]}},errorCode:{serializedName:"x-ms-error-code",type:{name:"String"}}}}},vt={serializedName:"file-abortcopy-headers",type:{name:"Composite",className:"FileAbortCopyHeaders",modelProperties:{requestId:{serializedName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",type:{name:"DateTimeRfc1123"}},errorCode:{serializedName:"x-ms-error-code",type:{name:"String"}}}}},Nt={serializedName:"file-listhandles-headers",type:{name:"Composite",className:"FileListHandlesHeaders",modelProperties:{contentType:{serializedName:"content-type",type:{name:"String"}},requestId:{serializedName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",type:{name:"DateTimeRfc1123"}},errorCode:{serializedName:"x-ms-error-code",type:{name:"String"}}}}},St={serializedName:"file-forceclosehandles-headers",type:{name:"Composite",className:"FileForceCloseHandlesHeaders",modelProperties:{requestId:{serializedName:"x-ms-request-id",type:{name:"String"}},version:{serializedName:"x-ms-version",type:{name:"String"}},date:{serializedName:"date",type:{name:"DateTimeRfc1123"}},marker:{serializedName:"x-ms-marker",type:{name:"String"}},numberOfHandlesClosed:{serializedName:"x-ms-number-of-handles-closed",type:{name:"Number"}},errorCode:{serializedName:"x-ms-error-code",type:{name:"String"}}}}},Pt=Object.freeze({CorsRule:{serializedName:"CorsRule",type:{name:"Composite",className:"CorsRule",modelProperties:{allowedOrigins:{xmlName:"AllowedOrigins",required:!0,serializedName:"AllowedOrigins",type:{name:"String"}},allowedMethods:{xmlName:"AllowedMethods",required:!0,serializedName:"AllowedMethods",type:{name:"String"}},allowedHeaders:{xmlName:"AllowedHeaders",required:!0,serializedName:"AllowedHeaders",type:{name:"String"}},exposedHeaders:{xmlName:"ExposedHeaders",required:!0,serializedName:"ExposedHeaders",type:{name:"String"}},maxAgeInSeconds:{xmlName:"MaxAgeInSeconds",required:!0,serializedName:"MaxAgeInSeconds",constraints:{InclusiveMinimum:0},type:{name:"Number"}}}}},ListSharesResponse:Fe,Metrics:{serializedName:"Metrics",type:{name:"Composite",className:"Metrics",modelProperties:{version:{xmlName:"Version",required:!0,serializedName:"Version",type:{name:"String"}},enabled:{xmlName:"Enabled",required:!0,serializedName:"Enabled",type:{name:"Boolean"}},includeAPIs:{xmlName:"IncludeAPIs",serializedName:"IncludeAPIs",type:{name:"Boolean"}},retentionPolicy:{xmlName:"RetentionPolicy",serializedName:"RetentionPolicy",type:{name:"Composite",className:"RetentionPolicy"}}}}},RetentionPolicy:{serializedName:"RetentionPolicy",type:{name:"Composite",className:"RetentionPolicy",modelProperties:{enabled:{xmlName:"Enabled",required:!0,serializedName:"Enabled",type:{name:"Boolean"}},days:{xmlName:"Days",serializedName:"Days",constraints:{InclusiveMaximum:365,InclusiveMinimum:1},type:{name:"Number"}}}}},ServiceGetPropertiesHeaders:Xe,ServiceListSharesSegmentHeaders:Ge,ServiceSetPropertiesHeaders:Ve,ShareItem:{xmlName:"Share",serializedName:"ShareItem",type:{name:"Composite",className:"ShareItem",modelProperties:{name:{xmlName:"Name",required:!0,serializedName:"Name",type:{name:"String"}},snapshot:{xmlName:"Snapshot",serializedName:"Snapshot",type:{name:"String"}},properties:{xmlName:"Properties",required:!0,serializedName:"Properties",type:{name:"Composite",className:"ShareProperties"}},metadata:{xmlName:"Metadata",serializedName:"Metadata",type:{name:"Dictionary",value:{type:{name:"String"}}}}}}},ShareProperties:{serializedName:"ShareProperties",type:{name:"Composite",className:"ShareProperties",modelProperties:{lastModified:{xmlName:"Last-Modified",required:!0,serializedName:"Last-Modified",type:{name:"DateTimeRfc1123"}},etag:{xmlName:"Etag",required:!0,serializedName:"Etag",type:{name:"String"}},quota:{xmlName:"Quota",required:!0,serializedName:"Quota",type:{name:"Number"}}}}},StorageError:ke,StorageServiceProperties:Be}),xt={parameterPath:"comp",mapper:{required:!0,isConstant:!0,serializedName:"comp",defaultValue:"properties",type:{name:"String"}}},Rt={parameterPath:"comp",mapper:{required:!0,isConstant:!0,serializedName:"comp",defaultValue:"list",type:{name:"String"}}},Tt={parameterPath:"comp",mapper:{required:!0,isConstant:!0,serializedName:"comp",defaultValue:"metadata",type:{name:"String"}}},bt={parameterPath:"comp",mapper:{required:!0,isConstant:!0,serializedName:"comp",defaultValue:"acl",type:{name:"String"}}},zt={parameterPath:"comp",mapper:{required:!0,isConstant:!0,serializedName:"comp",defaultValue:"listhandles",type:{name:"String"}}},Et={parameterPath:"comp",mapper:{required:!0,isConstant:!0,serializedName:"comp",defaultValue:"forceclosehandles",type:{name:"String"}}},wt={parameterPath:["options","fileHTTPHeaders","fileCacheControl"],mapper:{serializedName:"x-ms-cache-control",type:{name:"String"}}},qt={parameterPath:["options","fileHTTPHeaders","fileContentDisposition"],mapper:{serializedName:"x-ms-content-disposition",type:{name:"String"}}},Ct={parameterPath:["options","fileHTTPHeaders","fileContentEncoding"],mapper:{serializedName:"x-ms-content-encoding",type:{name:"String"}}},Mt={parameterPath:["options","fileHTTPHeaders","fileContentLanguage"],mapper:{serializedName:"x-ms-content-language",type:{name:"String"}}},Ot={parameterPath:["options","fileHTTPHeaders","fileContentMD5"],mapper:{serializedName:"x-ms-content-md5",type:{name:"ByteArray"}}},_t={parameterPath:["options","fileHTTPHeaders","fileContentType"],mapper:{serializedName:"x-ms-content-type",type:{name:"String"}}},It={parameterPath:"handleId",mapper:{required:!0,serializedName:"x-ms-handle-id",type:{name:"String"}}},Dt={parameterPath:["options","include"],mapper:{serializedName:"include",type:{name:"Sequence",element:{type:{name:"Enum",allowedValues:["snapshots","metadata"]}}}},collectionFormat:be.Csv},Ht={parameterPath:["options","marker"],mapper:{serializedName:"marker",type:{name:"String"}}},Lt={parameterPath:["options","maxresults"],mapper:{serializedName:"maxresults",constraints:{InclusiveMinimum:1},type:{name:"Number"}}},At={parameterPath:["options","metadata"],mapper:{serializedName:"x-ms-meta",type:{name:"Dictionary",value:{type:{name:"String"}}},headerCollectionPrefix:"x-ms-meta-"}},Ut={parameterPath:["options","prefix"],mapper:{serializedName:"prefix",type:{name:"String"}}},Ft={parameterPath:["options","quota"],mapper:{serializedName:"x-ms-share-quota",constraints:{InclusiveMinimum:1},type:{name:"Number"}}},kt={parameterPath:["options","range"],mapper:{serializedName:"x-ms-range",type:{name:"String"}}},jt={parameterPath:["options","recursive"],mapper:{serializedName:"x-ms-recursive",type:{name:"Boolean"}}},Bt={parameterPath:"restype",mapper:{required:!0,isConstant:!0,serializedName:"restype",defaultValue:"service",type:{name:"String"}}},Vt={parameterPath:"restype",mapper:{required:!0,isConstant:!0,serializedName:"restype",defaultValue:"share",type:{name:"String"}}},Xt={parameterPath:"restype",mapper:{required:!0,isConstant:!0,serializedName:"restype",defaultValue:"directory",type:{name:"String"}}},Gt={parameterPath:["options","sharesnapshot"],mapper:{serializedName:"sharesnapshot",type:{name:"String"}}},Qt={parameterPath:["options","timeout"],mapper:{serializedName:"timeout",constraints:{InclusiveMinimum:0},type:{name:"Number"}}},$t={parameterPath:"url",mapper:{required:!0,serializedName:"url",defaultValue:"",type:{name:"String"}},skipEncoding:!0},Wt={parameterPath:"version",mapper:{required:!0,serializedName:"x-ms-version",type:{name:"String"}}},Yt=function(){function e(e){this.client=e}return e.prototype.setProperties=function(e,t,r){return this.client.sendOperationRequest({storageServiceProperties:e,options:t},Kt,r)},e.prototype.getProperties=function(e,t){return this.client.sendOperationRequest({options:e},Zt,t)},e.prototype.listSharesSegment=function(e,t){return this.client.sendOperationRequest({options:e},er,t)},e}(),Jt=new v(Pt,!0),Kt={httpMethod:"PUT",urlParameters:[$t],queryParameters:[Qt,Bt,xt],headerParameters:[Wt],requestBody:{parameterPath:"storageServiceProperties",mapper:q({},Be,{required:!0})},contentType:"application/xml; charset=utf-8",responses:{202:{headersMapper:Ve},default:{bodyMapper:ke}},isXML:!0,serializer:Jt},Zt={httpMethod:"GET",urlParameters:[$t],queryParameters:[Qt,Bt,xt],headerParameters:[Wt],responses:{200:{bodyMapper:Be,headersMapper:Xe},default:{bodyMapper:ke}},isXML:!0,serializer:Jt},er={httpMethod:"GET",urlParameters:[$t],queryParameters:[Ut,Ht,Lt,Dt,Qt,Rt],headerParameters:[Wt],responses:{200:{bodyMapper:Fe,headersMapper:Ge},default:{bodyMapper:ke}},isXML:!0,serializer:Jt},tr=Object.freeze({AccessPolicy:{serializedName:"AccessPolicy",type:{name:"Composite",className:"AccessPolicy",modelProperties:{start:{xmlName:"Start",serializedName:"Start",type:{name:"String"}},expiry:{xmlName:"Expiry",serializedName:"Expiry",type:{name:"String"}},permission:{xmlName:"Permission",serializedName:"Permission",type:{name:"String"}}}}},ShareCreateHeaders:Qe,ShareCreateSnapshotHeaders:Ye,ShareDeleteHeaders:We,ShareGetAccessPolicyHeaders:Ze,ShareGetPropertiesHeaders:$e,ShareGetStatisticsHeaders:tt,ShareSetAccessPolicyHeaders:et,ShareSetMetadataHeaders:Ke,ShareSetQuotaHeaders:Je,ShareStats:je,SignedIdentifier:{serializedName:"SignedIdentifier",type:{name:"Composite",className:"SignedIdentifier",modelProperties:{id:{xmlName:"Id",required:!0,serializedName:"Id",type:{name:"String"}},accessPolicy:{xmlName:"AccessPolicy",serializedName:"AccessPolicy",type:{name:"Composite",className:"AccessPolicy"}}}}},StorageError:ke}),rr=function(){function e(e){this.client=e}return e.prototype.create=function(e,t){return this.client.sendOperationRequest({options:e},ir,t)},e.prototype.getProperties=function(e,t){return this.client.sendOperationRequest({options:e},ar,t)},e.prototype.deleteMethod=function(e,t){return this.client.sendOperationRequest({options:e},sr,t)},e.prototype.createSnapshot=function(e,t){return this.client.sendOperationRequest({options:e},or,t)},e.prototype.setQuota=function(e,t){return this.client.sendOperationRequest({options:e},lr,t)},e.prototype.setMetadata=function(e,t){return this.client.sendOperationRequest({options:e},ur,t)},e.prototype.getAccessPolicy=function(e,t){return this.client.sendOperationRequest({options:e},pr,t)},e.prototype.setAccessPolicy=function(e,t){return this.client.sendOperationRequest({options:e},mr,t)},e.prototype.getStatistics=function(e,t){return this.client.sendOperationRequest({options:e},dr,t)},e}(),nr=new v(tr,!0),ir={httpMethod:"PUT",path:"{shareName}",urlParameters:[$t],queryParameters:[Qt,Vt],headerParameters:[At,Ft,Wt],responses:{201:{headersMapper:Qe},default:{bodyMapper:ke}},isXML:!0,serializer:nr},ar={httpMethod:"GET",path:"{shareName}",urlParameters:[$t],queryParameters:[Gt,Qt,Vt],headerParameters:[Wt],responses:{200:{headersMapper:$e},default:{bodyMapper:ke}},isXML:!0,serializer:nr},sr={httpMethod:"DELETE",path:"{shareName}",urlParameters:[$t],queryParameters:[Gt,Qt,Vt],headerParameters:[Wt,{parameterPath:["options","deleteSnapshots"],mapper:{serializedName:"x-ms-delete-snapshots",type:{name:"Enum",allowedValues:["include"]}}}],responses:{202:{headersMapper:We},default:{bodyMapper:ke}},isXML:!0,serializer:nr},or={httpMethod:"PUT",path:"{shareName}",urlParameters:[$t],queryParameters:[Qt,Vt,{parameterPath:"comp",mapper:{required:!0,isConstant:!0,serializedName:"comp",defaultValue:"snapshot",type:{name:"String"}}}],headerParameters:[At,Wt],responses:{201:{headersMapper:Ye},default:{bodyMapper:ke}},isXML:!0,serializer:nr},lr={httpMethod:"PUT",path:"{shareName}",urlParameters:[$t],queryParameters:[Qt,Vt,xt],headerParameters:[Wt,Ft],responses:{200:{headersMapper:Je},default:{bodyMapper:ke}},isXML:!0,serializer:nr},ur={httpMethod:"PUT",path:"{shareName}",urlParameters:[$t],queryParameters:[Qt,Vt,Tt],headerParameters:[At,Wt],responses:{200:{headersMapper:Ke},default:{bodyMapper:ke}},isXML:!0,serializer:nr},pr={httpMethod:"GET",path:"{shareName}",urlParameters:[$t],queryParameters:[Qt,Vt,bt],headerParameters:[Wt],responses:{200:{bodyMapper:{xmlElementName:"SignedIdentifier",serializedName:"parsedResponse",type:{name:"Sequence",element:{type:{name:"Composite",className:"SignedIdentifier"}}}},headersMapper:Ze},default:{bodyMapper:ke}},isXML:!0,serializer:nr},mr={httpMethod:"PUT",path:"{shareName}",urlParameters:[$t],queryParameters:[Qt,Vt,bt],headerParameters:[Wt],requestBody:{parameterPath:["options","shareAcl"],mapper:{xmlName:"SignedIdentifiers",xmlElementName:"SignedIdentifier",serializedName:"shareAcl",type:{name:"Sequence",element:{type:{name:"Composite",className:"SignedIdentifier"}}}}},contentType:"application/xml; charset=utf-8",responses:{200:{headersMapper:et},default:{bodyMapper:ke}},isXML:!0,serializer:nr},dr={httpMethod:"GET",path:"{shareName}",urlParameters:[$t],queryParameters:[Qt,Vt,{parameterPath:"comp",mapper:{required:!0,isConstant:!0,serializedName:"comp",defaultValue:"stats",type:{name:"String"}}}],headerParameters:[Wt],responses:{200:{bodyMapper:je,headersMapper:tt},default:{bodyMapper:ke}},isXML:!0,serializer:nr},cr=Object.freeze({DirectoryCreateHeaders:rt,DirectoryDeleteHeaders:it,DirectoryForceCloseHandlesHeaders:lt,DirectoryGetPropertiesHeaders:nt,DirectoryItem:{xmlName:"Directory",serializedName:"DirectoryItem",type:{name:"Composite",className:"DirectoryItem",modelProperties:{name:{xmlName:"Name",required:!0,serializedName:"Name",type:{name:"String"}}}}},DirectoryListFilesAndDirectoriesSegmentHeaders:st,DirectoryListHandlesHeaders:ot,DirectorySetMetadataHeaders:at,FileItem:{xmlName:"File",serializedName:"FileItem",type:{name:"Composite",className:"FileItem",modelProperties:{name:{xmlName:"Name",required:!0,serializedName:"Name",type:{name:"String"}},properties:{xmlName:"Properties",required:!0,serializedName:"Properties",type:{name:"Composite",className:"FileProperty"}}}}},FileProperty:{serializedName:"FileProperty",type:{name:"Composite",className:"FileProperty",modelProperties:{contentLength:{xmlName:"Content-Length",required:!0,serializedName:"Content-Length",type:{name:"Number"}}}}},FilesAndDirectoriesListSegment:{xmlName:"Entries",serializedName:"FilesAndDirectoriesListSegment",type:{name:"Composite",className:"FilesAndDirectoriesListSegment",modelProperties:{directoryItems:{xmlName:"DirectoryItems",xmlElementName:"Directory",required:!0,serializedName:"DirectoryItems",type:{name:"Sequence",element:{type:{name:"Composite",className:"DirectoryItem"}}}},fileItems:{xmlName:"FileItems",xmlElementName:"File",required:!0,serializedName:"FileItems",type:{name:"Sequence",element:{type:{name:"Composite",className:"FileItem"}}}}}}},HandleItem:Le,ListFilesAndDirectoriesSegmentResponse:Ae,ListHandlesResponse:Ue,StorageError:ke}),hr=function(){function e(e){this.client=e}return e.prototype.create=function(e,t){return this.client.sendOperationRequest({options:e},fr,t)},e.prototype.getProperties=function(e,t){return this.client.sendOperationRequest({options:e},gr,t)},e.prototype.deleteMethod=function(e,t){return this.client.sendOperationRequest({options:e},vr,t)},e.prototype.setMetadata=function(e,t){return this.client.sendOperationRequest({options:e},Nr,t)},e.prototype.listFilesAndDirectoriesSegment=function(e,t){return this.client.sendOperationRequest({options:e},Sr,t)},e.prototype.listHandles=function(e,t){return this.client.sendOperationRequest({options:e},Pr,t)},e.prototype.forceCloseHandles=function(e,t,r){return this.client.sendOperationRequest({handleId:e,options:t},xr,r)},e}(),yr=new v(cr,!0),fr={httpMethod:"PUT",path:"{shareName}/{directory}",urlParameters:[$t],queryParameters:[Qt,Xt],headerParameters:[At,Wt],responses:{201:{headersMapper:rt},default:{bodyMapper:ke}},isXML:!0,serializer:yr},gr={httpMethod:"GET",path:"{shareName}/{directory}",urlParameters:[$t],queryParameters:[Gt,Qt,Xt],headerParameters:[Wt],responses:{200:{headersMapper:nt},default:{bodyMapper:ke}},isXML:!0,serializer:yr},vr={httpMethod:"DELETE",path:"{shareName}/{directory}",urlParameters:[$t],queryParameters:[Qt,Xt],headerParameters:[Wt],responses:{202:{headersMapper:it},default:{bodyMapper:ke}},isXML:!0,serializer:yr},Nr={httpMethod:"PUT",path:"{shareName}/{directory}",urlParameters:[$t],queryParameters:[Qt,Xt,Tt],headerParameters:[At,Wt],responses:{200:{headersMapper:at},default:{bodyMapper:ke}},isXML:!0,serializer:yr},Sr={httpMethod:"GET",path:"{shareName}/{directory}",urlParameters:[$t],queryParameters:[Ut,Gt,Ht,Lt,Qt,Xt,Rt],headerParameters:[Wt],responses:{200:{bodyMapper:Ae,headersMapper:st},default:{bodyMapper:ke}},isXML:!0,serializer:yr},Pr={httpMethod:"GET",path:"{shareName}/{directory}",urlParameters:[$t],queryParameters:[Ht,Lt,Qt,Gt,zt],headerParameters:[jt,Wt],responses:{200:{bodyMapper:Ue,headersMapper:ot},default:{bodyMapper:ke}},isXML:!0,serializer:yr},xr={httpMethod:"PUT",path:"{shareName}/{directory}",urlParameters:[$t],queryParameters:[Qt,Ht,Gt,Et],headerParameters:[It,jt,Wt],responses:{200:{headersMapper:lt},default:{bodyMapper:ke}},isXML:!0,serializer:yr},Rr=Object.freeze({FileAbortCopyHeaders:vt,FileCreateHeaders:ut,FileDeleteHeaders:dt,FileDownloadHeaders:pt,FileForceCloseHandlesHeaders:St,FileGetPropertiesHeaders:mt,FileGetRangeListHeaders:ft,FileListHandlesHeaders:Nt,FileSetHTTPHeadersHeaders:ct,FileSetMetadataHeaders:ht,FileStartCopyHeaders:gt,FileUploadRangeHeaders:yt,HandleItem:Le,ListHandlesResponse:Ue,Range:{serializedName:"Range",type:{name:"Composite",className:"Range",modelProperties:{start:{xmlName:"Start",required:!0,serializedName:"Start",type:{name:"Number"}},end:{xmlName:"End",required:!0,serializedName:"End",type:{name:"Number"}}}}},StorageError:ke}),Tr=function(){function e(e){this.client=e}return e.prototype.create=function(e,t,r){return this.client.sendOperationRequest({fileContentLength:e,options:t},zr,r)},e.prototype.download=function(e,t){return this.client.sendOperationRequest({options:e},Er,t)},e.prototype.getProperties=function(e,t){return this.client.sendOperationRequest({options:e},wr,t)},e.prototype.deleteMethod=function(e,t){return this.client.sendOperationRequest({options:e},qr,t)},e.prototype.setHTTPHeaders=function(e,t){return this.client.sendOperationRequest({options:e},Cr,t)},e.prototype.setMetadata=function(e,t){return this.client.sendOperationRequest({options:e},Mr,t)},e.prototype.uploadRange=function(e,t,r,n,i){return this.client.sendOperationRequest({range:e,fileRangeWrite:t,contentLength:r,options:n},Or,i)},e.prototype.getRangeList=function(e,t){return this.client.sendOperationRequest({options:e},_r,t)},e.prototype.startCopy=function(e,t,r){return this.client.sendOperationRequest({copySource:e,options:t},Ir,r)},e.prototype.abortCopy=function(e,t,r){return this.client.sendOperationRequest({copyId:e,options:t},Dr,r)},e.prototype.listHandles=function(e,t){return this.client.sendOperationRequest({options:e},Hr,t)},e.prototype.forceCloseHandles=function(e,t,r){return this.client.sendOperationRequest({handleId:e,options:t},Lr,r)},e}(),br=new v(Rr,!0),zr={httpMethod:"PUT",path:"{shareName}/{directory}/{fileName}",urlParameters:[$t],queryParameters:[Qt],headerParameters:[Wt,{parameterPath:"fileContentLength",mapper:{required:!0,serializedName:"x-ms-content-length",type:{name:"Number"}}},{parameterPath:"fileTypeConstant",mapper:{required:!0,isConstant:!0,serializedName:"x-ms-type",defaultValue:"file",type:{name:"String"}}},At,_t,Ct,Mt,wt,Ot,qt],responses:{201:{headersMapper:ut},default:{bodyMapper:ke}},isXML:!0,serializer:br},Er={httpMethod:"GET",path:"{shareName}/{directory}/{fileName}",urlParameters:[$t],queryParameters:[Qt],headerParameters:[Wt,kt,{parameterPath:["options","rangeGetContentMD5"],mapper:{serializedName:"x-ms-range-get-content-md5",type:{name:"Boolean"}}}],responses:{200:{bodyMapper:{serializedName:"parsedResponse",type:{name:"Stream"}},headersMapper:pt},206:{bodyMapper:{serializedName:"parsedResponse",type:{name:"Stream"}},headersMapper:pt},default:{bodyMapper:ke}},isXML:!0,serializer:br},wr={httpMethod:"HEAD",path:"{shareName}/{directory}/{fileName}",urlParameters:[$t],queryParameters:[Gt,Qt],headerParameters:[Wt],responses:{200:{headersMapper:mt},default:{bodyMapper:ke}},isXML:!0,serializer:br},qr={httpMethod:"DELETE",path:"{shareName}/{directory}/{fileName}",urlParameters:[$t],queryParameters:[Qt],headerParameters:[Wt],responses:{202:{headersMapper:dt},default:{bodyMapper:ke}},isXML:!0,serializer:br},Cr={httpMethod:"PUT",path:"{shareName}/{directory}/{fileName}",urlParameters:[$t],queryParameters:[Qt,xt],headerParameters:[Wt,{parameterPath:["options","fileContentLength"],mapper:{serializedName:"x-ms-content-length",type:{name:"Number"}}},_t,Ct,Mt,wt,Ot,qt],responses:{200:{headersMapper:ct},default:{bodyMapper:ke}},isXML:!0,serializer:br},Mr={httpMethod:"PUT",path:"{shareName}/{directory}/{fileName}",urlParameters:[$t],queryParameters:[Qt,Tt],headerParameters:[At,Wt],responses:{200:{headersMapper:ht},default:{bodyMapper:ke}},isXML:!0,serializer:br},Or={httpMethod:"PUT",path:"{shareName}/{directory}/{fileName}",urlParameters:[$t],queryParameters:[Qt,{parameterPath:"comp",mapper:{required:!0,isConstant:!0,serializedName:"comp",defaultValue:"range",type:{name:"String"}}}],headerParameters:[{parameterPath:"range",mapper:{required:!0,serializedName:"x-ms-range",type:{name:"String"}}},{parameterPath:"fileRangeWrite",mapper:{required:!0,serializedName:"x-ms-write",defaultValue:"update",type:{name:"Enum",allowedValues:["update","clear"]}}},{parameterPath:"contentLength",mapper:{required:!0,serializedName:"Content-Length",type:{name:"Number"}}},{parameterPath:["options","contentMD5"],mapper:{serializedName:"Content-MD5",type:{name:"ByteArray"}}},Wt],requestBody:{parameterPath:["options","optionalbody"],mapper:{serializedName:"optionalbody",type:{name:"Stream"}}},contentType:"application/octet-stream",responses:{201:{headersMapper:yt},default:{bodyMapper:ke}},isXML:!0,serializer:br},_r={httpMethod:"GET",path:"{shareName}/{directory}/{fileName}",urlParameters:[$t],queryParameters:[Gt,Qt,{parameterPath:"comp",mapper:{required:!0,isConstant:!0,serializedName:"comp",defaultValue:"rangelist",type:{name:"String"}}}],headerParameters:[Wt,kt],responses:{200:{bodyMapper:{xmlElementName:"Range",serializedName:"parsedResponse",type:{name:"Sequence",element:{type:{name:"Composite",className:"Range"}}}},headersMapper:ft},default:{bodyMapper:ke}},isXML:!0,serializer:br},Ir={httpMethod:"PUT",path:"{shareName}/{directory}/{fileName}",urlParameters:[$t],queryParameters:[Qt],headerParameters:[Wt,At,{parameterPath:"copySource",mapper:{required:!0,serializedName:"x-ms-copy-source",type:{name:"String"}}}],responses:{202:{headersMapper:gt},default:{bodyMapper:ke}},isXML:!0,serializer:br},Dr={httpMethod:"PUT",path:"{shareName}/{directory}/{fileName}",urlParameters:[$t],queryParameters:[{parameterPath:"copyId",mapper:{required:!0,serializedName:"copyid",type:{name:"String"}}},Qt,{parameterPath:"comp",mapper:{required:!0,isConstant:!0,serializedName:"comp",defaultValue:"copy",type:{name:"String"}}}],headerParameters:[{parameterPath:"copyActionAbortConstant",mapper:{required:!0,isConstant:!0,serializedName:"x-ms-copy-action",defaultValue:"abort",type:{name:"String"}}},Wt],responses:{204:{headersMapper:vt},default:{bodyMapper:ke}},isXML:!0,serializer:br},Hr={httpMethod:"GET",path:"{shareName}/{directory}/{fileName}",urlParameters:[$t],queryParameters:[Ht,Lt,Qt,Gt,zt],headerParameters:[Wt],responses:{200:{bodyMapper:Ue,headersMapper:Nt},default:{bodyMapper:ke}},isXML:!0,serializer:br},Lr={httpMethod:"PUT",path:"{shareName}/{directory}/{fileName}",urlParameters:[$t],queryParameters:[Qt,Ht,Gt,Et],headerParameters:[It,Wt],responses:{200:{headersMapper:St},default:{bodyMapper:ke}},isXML:!0,serializer:br},Ar="2018-11-09",Ur=4194304,Fr=5,kr={FORCE_BROWSER_NO_CACHE:"_",SHARE_SNAPSHOT:"sharesnapshot",SIGNATURE:"sig",TIMEOUT:"timeout"},jr=409,Br=404,Vr=412,Xr=416,Gr="content-length",Qr="Cookie",$r="x-ms-client-request-id";function Wr(e){var t=de.parse(e),r=t.getPath();return r=r||"/",r=encodeURIComponent(r).replace(/%2F/g,"/").replace(/'/g,"%27").replace(/\+/g,"%20").replace(/%25/g,"%"),t.setPath(r),t.toString()}function Yr(e,t){var r=de.parse(e),n=r.getPath();return n=n?n.endsWith("/")?""+n+t:n+"/"+t:t,r.setPath(n),r.toString()}function Jr(e,t,r){var n=de.parse(e);return n.setQueryParameter(t,r),n.toString()}function Kr(e,t){void 0===t&&(t=!0);var r=e.toISOString();return t?r.substring(0,r.length-1)+"0000Z":r.substring(0,r.length-5)+"Z"}function Zr(e,t,r){return C(this,void 0,void 0,function(){return M(this,function(n){return[2,new Promise(function(n,i){var a,s=function(){void 0!==a&&clearTimeout(a),i(r)};a=setTimeout(function(){void 0!==t&&t.removeEventListener("abort",s),n()},e),void 0!==t&&t.addEventListener("abort",s)})]})})}var en,tn=function(e){function t(t,r){return e.call(this,t,r)||this}return w(t,e),t.prototype.sendRequest=function(e){return C(this,void 0,void 0,function(){return M(this,function(t){return"GET"!==e.method.toUpperCase()&&"HEAD"!==e.method.toUpperCase()||(e.url=Jr(e.url,kr.FORCE_BROWSER_NO_CACHE,(new Date).getTime().toString())),e.headers.remove(Qr),e.headers.remove(Gr),[2,this._nextPolicy.sendRequest(e)]})})},t}($),rn=function(){function e(){}return e.prototype.create=function(e,t){return new tn(e,t)},e}(),nn="azure-storage-file",an="1.0.0",sn=function(e){function t(t,r,n){var i=this;if(null==t)throw new Error("'version' cannot be null.");if(null==r)throw new Error("'url' cannot be null.");if(n||(n={}),!n.userAgent){var a=ue();n.userAgent=nn+"/"+an+" "+a}return(i=e.call(this,void 0,n)||this).baseUri="{url}",i.requestContentType="application/json; charset=utf-8",i.version=t,i.url=r,i}return w(t,e),t}(Me),on=function(e){function t(t,r,n){var i=e.call(this,t,r)||this;return i.keepAliveOptions=n,i}return w(t,e),t.prototype.sendRequest=function(e){return C(this,void 0,void 0,function(){return M(this,function(t){return e.keepAlive=this.keepAliveOptions.enable,[2,this._nextPolicy.sendRequest(e)]})})},t}($),ln=function(){function e(e){void 0===e&&(e={enable:!0}),this.keepAliveOptions=e}return e.prototype.create=function(e,t){return new on(e,t,this.keepAliveOptions)},e}(),un={logWarningIfTryOverThreshold:3e3},pn=function(t){function r(e,r,n){void 0===n&&(n=un);var i=t.call(this,e,r)||this;return i.tryCount=0,i.operationStartTime=new Date,i.requestStartTime=new Date,i.loggingOptions=n,i}return w(r,t),r.prototype.sendRequest=function(t){return C(this,void 0,void 0,function(){var r,n,i,a,s,o,l,u,p,m;return M(this,function(d){switch(d.label){case 0:this.tryCount++,this.requestStartTime=new Date,1===this.tryCount&&(this.operationStartTime=this.requestStartTime),function(e,t){return de.parse(e).getQueryParameterValue(t)}(r=t.url,kr.SIGNATURE)&&(r=Jr(r,kr.SIGNATURE,"*****")),this.log(e.HttpPipelineLogLevel.INFO,"'"+r+"'==> OUTGOING REQUEST (Try number="+this.tryCount+")."),d.label=1;case 1:return d.trys.push([1,3,,4]),[4,this._nextPolicy.sendRequest(t)];case 2:return n=d.sent(),i=new Date,a=i.getTime()-this.requestStartTime.getTime(),s=i.getTime()-this.operationStartTime.getTime(),o=e.HttpPipelineLogLevel.INFO,l="",this.shouldLog(e.HttpPipelineLogLevel.INFO)&&(l="Successfully Received Response. "),a>=this.loggingOptions.logWarningIfTryOverThreshold&&this.shouldLog(e.HttpPipelineLogLevel.WARNING)&&(o=e.HttpPipelineLogLevel.WARNING,l="SLOW OPERATION. Duration > "+this.loggingOptions.logWarningIfTryOverThreshold+" ms. "),(n.status>=400&&n.status<=499&&n.status!==Br&&n.status!==jr&&n.status!==Vr&&n.status!==Xr||n.status>=500&&n.status<=509)&&(u="REQUEST ERROR: HTTP request failed with status code: "+n.status+". ",l=u,o=e.HttpPipelineLogLevel.ERROR),p="Request try:"+this.tryCount+", status:"+n.status+" request duration:"+a+" ms, operation duration:"+s+" ms\n",this.log(o,l+p),[2,n];case 3:throw m=d.sent(),this.log(e.HttpPipelineLogLevel.ERROR,"Unexpected failure attempting to make request. Error message: "+m.message),m;case 4:return[2]}})})},r}($),mn=function(){function e(e){this.loggingOptions=e}return e.prototype.create=function(e,t){return new pn(e,t,this.loggingOptions)},e}(),dn=function(){function e(e,t){void 0===t&&(t={}),this.factories=e,this.options=t}return e.prototype.toServiceClientOptions=function(){return{httpClient:this.options.HTTPClient,httpPipelineLogger:this.options.logger,requestPolicyFactories:this.factories}},e}();(en=e.RetryPolicyType||(e.RetryPolicyType={}))[en.EXPONENTIAL=0]="EXPONENTIAL",en[en.FIXED=1]="FIXED";var cn={maxRetryDelayInMs:12e4,maxTries:4,retryDelayInMs:4e3,retryPolicyType:e.RetryPolicyType.EXPONENTIAL,tryTimeoutInMs:void 0},hn=new _("The request was aborted",_.REQUEST_ABORTED_ERROR),yn=function(t){function r(e,r,n){void 0===n&&(n=cn);var i=t.call(this,e,r)||this;return i.retryOptions={retryPolicyType:n.retryPolicyType?n.retryPolicyType:cn.retryPolicyType,maxTries:n.maxTries&&n.maxTries>=1?Math.floor(n.maxTries):cn.maxTries,tryTimeoutInMs:n.tryTimeoutInMs&&n.tryTimeoutInMs>=0?n.tryTimeoutInMs:cn.tryTimeoutInMs,retryDelayInMs:n.retryDelayInMs&&n.retryDelayInMs>=0?Math.min(n.retryDelayInMs,n.maxRetryDelayInMs?n.maxRetryDelayInMs:cn.maxRetryDelayInMs):cn.retryDelayInMs,maxRetryDelayInMs:n.maxRetryDelayInMs&&n.maxRetryDelayInMs>=0?n.maxRetryDelayInMs:cn.maxRetryDelayInMs},i}return w(r,t),r.prototype.sendRequest=function(e){return C(this,void 0,void 0,function(){return M(this,function(t){return[2,this.attemptSendRequest(e,!1,1)]})})},r.prototype.attemptSendRequest=function(t,r,n){return C(this,void 0,void 0,function(){var i,a,s,o;return M(this,function(l){switch(l.label){case 0:i=t.clone(),a=!0,this.retryOptions.tryTimeoutInMs&&(i.url=Jr(i.url,kr.TIMEOUT,Math.floor(this.retryOptions.tryTimeoutInMs/1e3).toString())),l.label=1;case 1:return l.trys.push([1,3,,4]),this.logf(e.HttpPipelineLogLevel.INFO,"RetryPolicy: =====> Try="+n+" "+(a?"Primary":"Secondary")),[4,this._nextPolicy.sendRequest(i)];case 2:return s=l.sent(),this.shouldRetry(a,n,s)?(r=r||!a&&404===s.status,[3,4]):[2,s];case 3:if(o=l.sent(),this.logf(e.HttpPipelineLogLevel.ERROR,"RetryPolicy: Caught error, message: "+o.message+", code: "+o.code),!this.shouldRetry(a,n,s,o))throw o;return[3,4];case 4:return[4,this.delay(a,n,t.abortSignal)];case 5:return l.sent(),[4,this.attemptSendRequest(t,r,++n)];case 6:return[2,l.sent()]}})})},r.prototype.shouldRetry=function(t,r,n,i){if(r>=this.retryOptions.maxTries)return this.logf(e.HttpPipelineLogLevel.INFO,"RetryPolicy: Attempt(s) "+r+" >= maxTries "+this.retryOptions.maxTries+", no further try."),!1;if(i)for(var a=0,s=["ETIMEDOUT","ESOCKETTIMEDOUT","ECONNREFUSED","ECONNRESET","ENOENT","ENOTFOUND","TIMEOUT","REQUEST_SEND_ERROR"];a<s.length;a++){var o=s[a];if(i.name.toUpperCase().includes(o)||i.message.toUpperCase().includes(o)||i.code&&i.code.toString().toUpperCase().includes(o))return this.logf(e.HttpPipelineLogLevel.INFO,"RetryPolicy: Network error "+o+" found, will retry."),!0}if(n||i){var l=n?n.status:i?i.statusCode:0;if(!t&&404===l)return this.logf(e.HttpPipelineLogLevel.INFO,"RetryPolicy: Secondary access with 404, will retry."),!0;if(503===l||500===l)return this.logf(e.HttpPipelineLogLevel.INFO,"RetryPolicy: Will retry for status code "+l+"."),!0}return!1},r.prototype.logf=function(e,t){},r.prototype.delay=function(t,r,n){return C(this,void 0,void 0,function(){var i;return M(this,function(a){if(i=0,t)switch(this.retryOptions.retryPolicyType){case e.RetryPolicyType.EXPONENTIAL:i=Math.min((Math.pow(2,r-1)-1)*this.retryOptions.retryDelayInMs,this.retryOptions.maxRetryDelayInMs);break;case e.RetryPolicyType.FIXED:i=this.retryOptions.retryDelayInMs}else i=1e3*Math.random();return this.logf(e.HttpPipelineLogLevel.INFO,"RetryPolicy: Delay for "+i+"ms"),[2,Zr(i,n,hn)]})})},r}($),fn=function(){function e(e){this.retryOptions=e}return e.prototype.create=function(e,t){return new yn(e,t,this.retryOptions)},e}(),gn=function(e){function t(t,r,n){var i=e.call(this,t,r)||this;return i.telemetry=n,i}return w(t,e),t.prototype.sendRequest=function(e){return C(this,void 0,void 0,function(){return M(this,function(t){return[2,this._nextPolicy.sendRequest(e)]})})},t}($),vn=function(){function e(e){this.telemetryString=[].join(" ")}return e.prototype.create=function(e,t){return new gn(e,t,this.telemetryString)},e}(),Nn=function(e){function t(t,r){return e.call(this,t,r)||this}return w(t,e),t.prototype.sendRequest=function(e){return C(this,void 0,void 0,function(){return M(this,function(t){return e.headers.contains($r)||e.headers.set($r,h()),[2,this._nextPolicy.sendRequest(e)]})})},t}($),Sn=function(){function e(){}return e.prototype.create=function(e,t){return new Nn(e,t)},e}(),Pn=function(){function e(e,t){this.url=Wr(e),this.pipeline=t,this.storageClientContext=new sn(Ar,this.url,t.toServiceClientOptions());var r=this.storageClientContext;r.requestContentType&&(r.requestContentType=void 0)}return e.newPipeline=function(e,t){void 0===t&&(t={});var r=[new ln(t.keepAliveOptions),new vn(t.telemetry),new Sn,new rn,Y(),new fn(t.retryOptions),new mn,e];return new dn(r,{HTTPClient:t.httpClient,logger:t.logger})},e}(),xn=function(e){function t(t,r){var n=e.call(this,t,r)||this;return n.context=new rr(n.storageClientContext),n}return w(t,e),t.fromServiceURL=function(e,r){return new t(Yr(e.url,r),e.pipeline)},t.prototype.withPipeline=function(e){return new t(this.url,e)},t.prototype.withSnapshot=function(e){return new t(Jr(this.url,kr.SHARE_SNAPSHOT,0===e.length?void 0:e),this.pipeline)},t.prototype.create=function(e,t){return void 0===t&&(t={}),C(this,void 0,void 0,function(){return M(this,function(r){return[2,this.context.create(q({},t,{abortSignal:e}))]})})},t.prototype.getProperties=function(e){return C(this,void 0,void 0,function(){return M(this,function(t){return[2,this.context.getProperties({abortSignal:e})]})})},t.prototype.delete=function(e,t){return void 0===t&&(t={}),C(this,void 0,void 0,function(){return M(this,function(r){return[2,this.context.deleteMethod(q({abortSignal:e},t))]})})},t.prototype.setMetadata=function(e,t){return C(this,void 0,void 0,function(){return M(this,function(r){return[2,this.context.setMetadata({abortSignal:e,metadata:t})]})})},t.prototype.getAccessPolicy=function(e){return C(this,void 0,void 0,function(){var t,r,n,i,a;return M(this,function(s){switch(s.label){case 0:return[4,this.context.getAccessPolicy({abortSignal:e})];case 1:for(t=s.sent(),r={_response:t._response,date:t.date,eTag:t.eTag,lastModified:t.lastModified,requestId:t.requestId,signedIdentifiers:[],version:t.version},n=0,i=t;n<i.length;n++)a=i[n],r.signedIdentifiers.push({accessPolicy:{expiry:new Date(a.accessPolicy.expiry),permission:a.accessPolicy.permission,start:new Date(a.accessPolicy.start)},id:a.id});return[2,r]}})})},t.prototype.setAccessPolicy=function(e,t){return C(this,void 0,void 0,function(){var r,n,i,a;return M(this,function(s){for(r=[],n=0,i=t||[];n<i.length;n++)a=i[n],r.push({accessPolicy:{expiry:Kr(a.accessPolicy.expiry),permission:a.accessPolicy.permission,start:Kr(a.accessPolicy.start)},id:a.id});return[2,this.context.setAccessPolicy({abortSignal:e,shareAcl:r})]})})},t.prototype.createSnapshot=function(e,t){return void 0===t&&(t={}),C(this,void 0,void 0,function(){return M(this,function(r){return[2,this.context.createSnapshot(q({abortSignal:e},t))]})})},t.prototype.setQuota=function(e,t){return C(this,void 0,void 0,function(){return M(this,function(r){if(t<=0||t>5120)throw new RangeError("Share quota must be greater than 0, and less than or equal to 5Tib (5120GB)");return[2,this.context.setQuota({abortSignal:e,quota:t})]})})},t.prototype.getStatistics=function(e){return C(this,void 0,void 0,function(){var t;return M(this,function(r){switch(r.label){case 0:return[4,this.context.getStatistics({abortSignal:e})];case 1:return t=r.sent(),1073741824,[2,q({},t,{shareUsage:Math.ceil(t.shareUsageBytes/1073741824)})]}})})},t}(Pn),Rn=function(e){function t(t,r){var n=e.call(this,t,r)||this;return n.context=new hr(n.storageClientContext),n}return w(t,e),t.fromShareURL=function(e,r){return new t(Yr(e.url,encodeURIComponent(r)),e.pipeline)},t.fromDirectoryURL=function(e,r){return new t(Yr(e.url,encodeURIComponent(r)),e.pipeline)},t.prototype.withPipeline=function(e){return new t(this.url,e)},t.prototype.create=function(e,t){return void 0===t&&(t={}),C(this,void 0,void 0,function(){return M(this,function(r){return[2,this.context.create(q({},t,{abortSignal:e}))]})})},t.prototype.getProperties=function(e){return C(this,void 0,void 0,function(){return M(this,function(t){return[2,this.context.getProperties({abortSignal:e})]})})},t.prototype.delete=function(e){return C(this,void 0,void 0,function(){return M(this,function(t){return[2,this.context.deleteMethod({abortSignal:e})]})})},t.prototype.setMetadata=function(e,t){return C(this,void 0,void 0,function(){return M(this,function(r){return[2,this.context.setMetadata({abortSignal:e,metadata:t})]})})},t.prototype.listFilesAndDirectoriesSegment=function(e,t,r){return void 0===r&&(r={}),C(this,void 0,void 0,function(){return M(this,function(n){return[2,this.context.listFilesAndDirectoriesSegment(q({abortSignal:e,marker:t},r))]})})},t.prototype.listHandlesSegment=function(e,t,r){return void 0===r&&(r={}),C(this,void 0,void 0,function(){var n;return M(this,function(i){switch(i.label){case 0:return t=""===t?void 0:t,[4,this.context.listHandles(q({abortSignal:e,marker:t},r))];case 1:return""===(n=i.sent()).handleList&&(n.handleList=void 0),[2,n]}})})},t.prototype.forceCloseHandlesSegment=function(e,t,r){return void 0===r&&(r={}),C(this,void 0,void 0,function(){return M(this,function(n){return t=""===t?void 0:t,[2,this.context.forceCloseHandles("*",q({abortSignal:e,marker:t},r))]})})},t.prototype.forceCloseHandle=function(e,t){return C(this,void 0,void 0,function(){return M(this,function(r){if("*"===t)throw new RangeError("Parameter handleID should be a specified handle ID. Use forceCloseHandlesSegment() to close all handles.");return[2,this.context.forceCloseHandles(t,{abortSignal:e})]})})},t}(Pn);function Tn(e){if(e.offset<0)throw new RangeError("IRange.offset cannot be smaller than 0.");if(e.count&&e.count<=0)throw new RangeError("IRange.count must be larger than 0. Leave it undefined if you want a range from offset to the end.");return e.count?"bytes="+e.offset+"-"+(e.offset+e.count-1):"bytes="+e.offset+"-"}var bn,zn=function(e){function t(t,r){var n=e.call(this,t,r)||this;return n.context=new Tr(n.storageClientContext),n}return w(t,e),t.fromDirectoryURL=function(e,r){return new t(Yr(e.url,encodeURIComponent(r)),e.pipeline)},t.prototype.withPipeline=function(e){return new t(this.url,e)},t.prototype.create=function(e,t,r){return void 0===r&&(r={}),C(this,void 0,void 0,function(){return M(this,function(n){if(t<0||t>1099511627776)throw new RangeError("File size must >= 0 and < 1099511627776.");return r.fileHTTPHeaders=r.fileHTTPHeaders||{},[2,this.context.create(t,{abortSignal:e,fileHTTPHeaders:r.fileHTTPHeaders,metadata:r.metadata})]})})},t.prototype.download=function(e,t,r,n){return void 0===n&&(n={}),C(this,void 0,void 0,function(){var i,a,s=this;return M(this,function(o){switch(o.label){case 0:if(n.rangeGetContentMD5&&0===t&&void 0===r)throw new RangeError("rangeGetContentMD5 only works with partial data downloading");return i=0===t&&!r,[4,this.context.download({abortSignal:e,onDownloadProgress:m?void 0:n.progress,range:i?void 0:Tn({offset:t,count:r}),rangeGetContentMD5:n.rangeGetContentMD5})];case 1:if(a=o.sent(),!m)return[2,a];if((void 0===n.maxRetryRequests||n.maxRetryRequests<0)&&(n.maxRetryRequests=5),void 0===a.contentLength)throw new RangeError("File download response doesn't contain valid content length header");return[2,new 1(e,a,function(r){return C(s,void 0,void 0,function(){var n;return M(this,function(i){switch(i.label){case 0:return n={range:Tn({count:t+a.contentLength-r,offset:r})},[4,this.context.download(q({abortSignal:e},n))];case 1:return[2,i.sent().readableStreamBody]}})})},t,a.contentLength,{maxRetryRequests:n.maxRetryRequests,progress:n.progress})]}})})},t.prototype.getProperties=function(e){return C(this,void 0,void 0,function(){return M(this,function(t){return[2,this.context.getProperties({abortSignal:e})]})})},t.prototype.delete=function(e){return C(this,void 0,void 0,function(){return M(this,function(t){return[2,this.context.deleteMethod({abortSignal:e})]})})},t.prototype.setHTTPHeaders=function(e,t){return void 0===t&&(t={}),C(this,void 0,void 0,function(){return M(this,function(r){return[2,this.context.setHTTPHeaders({abortSignal:e,fileHTTPHeaders:t})]})})},t.prototype.resize=function(e,t){return C(this,void 0,void 0,function(){return M(this,function(r){if(t<0)throw new RangeError("Size cannot less than 0 when resizing file.");return[2,this.context.setHTTPHeaders({abortSignal:e,fileContentLength:t})]})})},t.prototype.setMetadata=function(e,t){return void 0===t&&(t={}),C(this,void 0,void 0,function(){return M(this,function(r){return[2,this.context.setMetadata({abortSignal:e,metadata:t})]})})},t.prototype.uploadRange=function(e,t,r,n,i){return void 0===i&&(i={}),C(this,void 0,void 0,function(){return M(this,function(a){if(r<0||n<=0)throw new RangeError("offset must >= 0 and contentLength must be > 0");if(n>Ur)throw new RangeError("offset must be < "+Ur+" bytes");return[2,this.context.uploadRange(Tn({count:n,offset:r}),"update",n,{abortSignal:e,contentMD5:i.contentMD5,onUploadProgress:i.progress,optionalbody:t})]})})},t.prototype.clearRange=function(e,t,r){return C(this,void 0,void 0,function(){return M(this,function(n){if(t<0||r<=0)throw new RangeError("offset must >= 0 and contentLength must be > 0");return[2,this.context.uploadRange(Tn({count:r,offset:t}),"clear",0,{abortSignal:e})]})})},t.prototype.getRangeList=function(e,t){return void 0===t&&(t={}),C(this,void 0,void 0,function(){var r;return M(this,function(n){switch(n.label){case 0:return[4,this.context.getRangeList({abortSignal:e,range:t.range?Tn(t.range):void 0})];case 1:return[2,{_response:(r=n.sent())._response,date:r.date,eTag:r.eTag,errorCode:r.errorCode,fileContentLength:r.fileContentLength,lastModified:r.lastModified,rangeList:r.filter(function(){return!0}),requestId:r.requestId,version:r.version}]}})})},t.prototype.startCopyFromURL=function(e,t,r){return void 0===r&&(r={}),C(this,void 0,void 0,function(){return M(this,function(n){return[2,this.context.startCopy(t,{abortSignal:e,metadata:r.metadata})]})})},t.prototype.abortCopyFromURL=function(e,t){return C(this,void 0,void 0,function(){return M(this,function(r){return[2,this.context.abortCopy(t,{abortSignal:e})]})})},t.prototype.listHandlesSegment=function(e,t,r){return void 0===r&&(r={}),C(this,void 0,void 0,function(){var n;return M(this,function(i){switch(i.label){case 0:return t=""===t?void 0:t,[4,this.context.listHandles(q({abortSignal:e,marker:t},r))];case 1:return""===(n=i.sent()).handleList&&(n.handleList=void 0),[2,n]}})})},t.prototype.forceCloseHandlesSegment=function(e,t){return C(this,void 0,void 0,function(){return M(this,function(r){return t=""===t?void 0:t,[2,this.context.forceCloseHandles("*",{abortSignal:e,marker:t})]})})},t.prototype.forceCloseHandle=function(e,t){return C(this,void 0,void 0,function(){return M(this,function(r){if("*"===t)throw new RangeError("Parameter handleID should be a specified handle ID. Use forceCloseHandlesSegment() to close all handles.");return[2,this.context.forceCloseHandles(t,{abortSignal:e})]})})},t}(Pn),En=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return w(t,e),t.prototype.sendRequest=function(e){return this._nextPolicy.sendRequest(this.signRequest(e))},t.prototype.signRequest=function(e){return e},t}($),wn=function(e){function t(t,r){return e.call(this,t,r)||this}return w(t,e),t}(En),qn=function(){function e(){}return e.prototype.create=function(e,t){throw new Error("Method should be implemented in children classes.")},e}(),Cn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return w(t,e),t.prototype.create=function(e,t){return new wn(e,t)},t}(qn),Mn="object"==typeof Reflect?Reflect:null,On=Mn&&"function"==typeof Mn.apply?Mn.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};bn=Mn&&"function"==typeof Mn.ownKeys?Mn.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var _n=Number.isNaN||function(e){return e!=e};function In(){In.init.call(this)}var Dn=In;In.EventEmitter=In,In.prototype._events=void 0,In.prototype._eventsCount=0,In.prototype._maxListeners=void 0;var Hn=10;function Ln(e){return void 0===e._maxListeners?In.defaultMaxListeners:e._maxListeners}function An(e,t,r,n){var i,a,s,o;if("function"!=typeof r)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof r);if(void 0===(a=e._events)?(a=e._events=Object.create(null),e._eventsCount=0):(void 0!==a.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),a=e._events),s=a[t]),void 0===s)s=a[t]=r,++e._eventsCount;else if("function"==typeof s?s=a[t]=n?[r,s]:[s,r]:n?s.unshift(r):s.push(r),(i=Ln(e))>0&&s.length>i&&!s.warned){s.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=s.length,o=l,console&&console.warn&&console.warn(o)}return e}function Un(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},i=function(){for(var e=[],t=0;t<arguments.length;t++)e.push(arguments[t]);this.fired||(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,On(this.listener,this.target,e))}.bind(n);return i.listener=r,n.wrapFn=i,i}function Fn(e,t,r){var n=e._events;if(void 0===n)return[];var i=n[t];return void 0===i?[]:"function"==typeof i?r?[i.listener||i]:[i]:r?function(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(i):jn(i,i.length)}function kn(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function jn(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}Object.defineProperty(In,"defaultMaxListeners",{enumerable:!0,get:function(){return Hn},set:function(e){if("number"!=typeof e||e<0||_n(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");Hn=e}}),In.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},In.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||_n(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},In.prototype.getMaxListeners=function(){return Ln(this)},In.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var n="error"===e,i=this._events;if(void 0!==i)n=n&&void 0===i.error;else if(!n)return!1;if(n){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var o=i[e];if(void 0===o)return!1;if("function"==typeof o)On(o,this,t);else{var l=o.length,u=jn(o,l);for(r=0;r<l;++r)On(u[r],this,t)}return!0},In.prototype.addListener=function(e,t){return An(this,e,t,!1)},In.prototype.on=In.prototype.addListener,In.prototype.prependListener=function(e,t){return An(this,e,t,!0)},In.prototype.once=function(e,t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);return this.on(e,Un(this,e,t)),this},In.prototype.prependOnceListener=function(e,t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);return this.prependListener(e,Un(this,e,t)),this},In.prototype.removeListener=function(e,t){var r,n,i,a,s;if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);if(void 0===(n=this._events))return this;if(void 0===(r=n[e]))return this;if(r===t||r.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(i=-1,a=r.length-1;a>=0;a--)if(r[a]===t||r[a].listener===t){s=r[a].listener,i=a;break}if(i<0)return this;0===i?r.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(r,i),1===r.length&&(n[e]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",e,s||t)}return this},In.prototype.off=In.prototype.removeListener,In.prototype.removeAllListeners=function(e){var t,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0===arguments.length){var i,a=Object.keys(r);for(n=0;n<a.length;++n)"removeListener"!==(i=a[n])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},In.prototype.listeners=function(e){return Fn(this,e,!0)},In.prototype.rawListeners=function(e){return Fn(this,e,!1)},In.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):kn.call(e,t)},In.prototype.listenerCount=kn,In.prototype.eventNames=function(){return this._eventsCount>0?bn(this._events):[]};var Bn,Vn=Dn.EventEmitter;!function(e){e[e.Good=0]="Good",e[e.Error=1]="Error"}(Bn||(Bn={}));var Xn=function(){function e(e){if(void 0===e&&(e=5),this.actives=0,this.completed=0,this.offset=0,this.operations=[],this.state=Bn.Good,e<1)throw new RangeError("concurrency must be larger than 0");this.concurrency=e,this.emitter=new Vn}return e.prototype.addOperation=function(e){var t=this;this.operations.push(function(){return C(t,void 0,void 0,function(){var t;return M(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),this.actives++,[4,e()];case 1:return r.sent(),this.actives--,this.completed++,this.parallelExecute(),[3,3];case 2:return t=r.sent(),this.emitter.emit("error",t),[3,3];case 3:return[2]}})})})},e.prototype.do=function(){return C(this,void 0,void 0,function(){var e=this;return M(this,function(t){return this.parallelExecute(),[2,new Promise(function(t,r){e.emitter.on("finish",t),e.emitter.on("error",function(t){e.state=Bn.Error,r(t)})})]})})},e.prototype.nextOperation=function(){return this.offset<this.operations.length?this.operations[this.offset++]:null},e.prototype.parallelExecute=function(){if(this.state!==Bn.Error)if(this.completed>=this.operations.length)this.emitter.emit("finish");else for(;this.actives<this.concurrency;){var e=this.nextOperation();if(!e)return;e()}},e}();function Gn(e,t,r,n,i){return void 0===i&&(i={}),C(this,void 0,void 0,function(){var a,s,o,l,u,p=this;return M(this,function(m){switch(m.label){case 0:if(i.rangeSize||(i.rangeSize=Ur),i.rangeSize<0||i.rangeSize>Ur)throw new RangeError("options.rangeSize must be > 0 and <= "+Ur);if(i.fileHTTPHeaders||(i.fileHTTPHeaders={}),i.parallelism||(i.parallelism=Fr),i.parallelism<0)throw new RangeError("options.parallelism cannot less than 0.");return[4,n.create(e,r,{fileHTTPHeaders:i.fileHTTPHeaders,metadata:i.metadata})];case 1:for(m.sent(),a=Math.floor((r-1)/i.rangeSize)+1,s=0,o=new Xn(i.parallelism),l=function(l){o.addOperation(function(){return C(p,void 0,void 0,function(){var o,u,p;return M(this,function(m){switch(m.label){case 0:return o=i.rangeSize*l,u=l===a-1?r:o+i.rangeSize,p=u-o,[4,n.uploadRange(e,t(o,p),o,p)];case 1:return m.sent(),s+=p,i.progress&&i.progress({loadedBytes:s}),[2]}})})})},u=0;u<a;u++)l(u);return[2,o.do()]}})})}var Qn=function(e){function t(t,r){var n=e.call(this,t,r)||this;return n.serviceContext=new Yt(n.storageClientContext),n}return w(t,e),t.prototype.withPipeline=function(e){return new t(this.url,e)},t.prototype.getProperties=function(e){return C(this,void 0,void 0,function(){return M(this,function(t){return[2,this.serviceContext.getProperties({abortSignal:e})]})})},t.prototype.setProperties=function(e,t){return C(this,void 0,void 0,function(){return M(this,function(r){return[2,this.serviceContext.setProperties(t,{abortSignal:e})]})})},t.prototype.listSharesSegment=function(e,t,r){return void 0===r&&(r={}),C(this,void 0,void 0,function(){return M(this,function(n){return[2,this.serviceContext.listSharesSegment(q({abortSignal:e,marker:t},r))]})})},t}(Pn);e.Aborter=He,e.AnonymousCredential=Cn,e.AnonymousCredentialPolicy=wn,e.BaseRequestPolicy=$,e.BrowserPolicyFactory=rn,e.Credential=qn,e.CredentialPolicy=En,e.DirectoryURL=Rn,e.FileURL=zn,e.HttpHeaders=r,e.LoggingPolicyFactory=mn,e.Models=De,e.Pipeline=dn,e.RequestPolicyOptions=W,e.RestError=_,e.RetryPolicyFactory=fn,e.ServiceURL=Qn,e.ShareURL=xn,e.StorageURL=Pn,e.TelemetryPolicyFactory=vn,e.UniqueRequestIDPolicyFactory=Sn,e.WebResource=z,e.deserializationPolicy=Y,e.uploadBrowserDataToAzureFile=function(e,t,r,n){return C(this,void 0,void 0,function(){var i;return M(this,function(a){return i=new Blob([t]),[2,Gn(e,function(e,t){return i.slice(e,e+t)},i.size,r,n)]})})},Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=azure-storage-file.min.js.map
